function im(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function om(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function lm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var td={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),um=Symbol.for("react.portal"),cm=Symbol.for("react.fragment"),dm=Symbol.for("react.strict_mode"),fm=Symbol.for("react.profiler"),hm=Symbol.for("react.provider"),mm=Symbol.for("react.context"),pm=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),vm=Symbol.for("react.memo"),ym=Symbol.for("react.lazy"),du=Symbol.iterator;function wm(e){return e===null||typeof e!="object"?null:(e=du&&e[du]||e["@@iterator"],typeof e=="function"?e:null)}var nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rd=Object.assign,sd={};function Tr(e,t,n){this.props=e,this.context=t,this.refs=sd,this.updater=n||nd}Tr.prototype.isReactComponent={};Tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ad(){}ad.prototype=Tr.prototype;function cl(e,t,n){this.props=e,this.context=t,this.refs=sd,this.updater=n||nd}var dl=cl.prototype=new ad;dl.constructor=cl;rd(dl,Tr.prototype);dl.isPureReactComponent=!0;var fu=Array.isArray,id=Object.prototype.hasOwnProperty,fl={current:null},od={key:!0,ref:!0,__self:!0,__source:!0};function ld(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)id.call(t,r)&&!od.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:js,type:e,key:a,ref:i,props:s,_owner:fl.current}}function km(e,t){return{$$typeof:js,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hl(e){return typeof e=="object"&&e!==null&&e.$$typeof===js}function _m(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var hu=/\/+/g;function wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_m(""+e.key):t.toString(36)}function la(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case js:case um:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+wi(i,0):r,fu(s)?(n="",e!=null&&(n=e.replace(hu,"$&/")+"/"),la(s,t,n,"",function(c){return c})):s!=null&&(hl(s)&&(s=km(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(hu,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",fu(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+wi(a,o);i+=la(a,t,n,l,s)}else if(l=wm(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+wi(a,o++),i+=la(a,t,n,l,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function zs(e,t,n){if(e==null)return e;var r=[],s=0;return la(e,r,"","",function(a){return t.call(n,a,s++)}),r}function bm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},ua={transition:null},Em={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ua,ReactCurrentOwner:fl};function ud(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:zs,forEach:function(e,t,n){zs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zs(e,function(){t++}),t},toArray:function(e){return zs(e,function(t){return t})||[]},only:function(e){if(!hl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Tr;K.Fragment=cm;K.Profiler=fm;K.PureComponent=cl;K.StrictMode=dm;K.Suspense=gm;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Em;K.act=ud;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rd({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=fl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)id.call(t,l)&&!od.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:js,type:e.type,key:s,ref:a,props:r,_owner:i}};K.createContext=function(e){return e={$$typeof:mm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hm,_context:e},e.Consumer=e};K.createElement=ld;K.createFactory=function(e){var t=ld.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:pm,render:e}};K.isValidElement=hl;K.lazy=function(e){return{$$typeof:ym,_payload:{_status:-1,_result:e},_init:bm}};K.memo=function(e,t){return{$$typeof:vm,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=ua.transition;ua.transition={};try{e()}finally{ua.transition=t}};K.unstable_act=ud;K.useCallback=function(e,t){return ze.current.useCallback(e,t)};K.useContext=function(e){return ze.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};K.useEffect=function(e,t){return ze.current.useEffect(e,t)};K.useId=function(){return ze.current.useId()};K.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return ze.current.useMemo(e,t)};K.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};K.useRef=function(e){return ze.current.useRef(e)};K.useState=function(e){return ze.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return ze.current.useTransition()};K.version="18.3.1";td.exports=K;var y=td.exports;const u=om(y),xm=im({__proto__:null,default:u},[y]);var eo={},cd={exports:{}},nt={},dd={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,$){var M=N.length;N.push($);e:for(;0<M;){var G=M-1>>>1,P=N[G];if(0<s(P,$))N[G]=$,N[M]=P,M=G;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var $=N[0],M=N.pop();if(M!==$){N[0]=M;e:for(var G=0,P=N.length,I=P>>>1;G<I;){var z=2*(G+1)-1,B=N[z],X=z+1,ue=N[X];if(0>s(B,M))X<P&&0>s(ue,B)?(N[G]=ue,N[X]=M,G=X):(N[G]=B,N[z]=M,G=z);else if(X<P&&0>s(ue,M))N[G]=ue,N[X]=M,G=X;else break e}}return $}function s(N,$){var M=N.sortIndex-$.sortIndex;return M!==0?M:N.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],d=1,f=null,m=3,v=!1,w=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(N){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=N)r(c),$.sortIndex=$.expirationTime,t(l,$);else break;$=n(c)}}function k(N){if(_=!1,p(N),!w)if(n(l)!==null)w=!0,ye(E);else{var $=n(c);$!==null&&he(k,$.startTime-N)}}function E(N,$){w=!1,_&&(_=!1,g(T),T=-1),v=!0;var M=m;try{for(p($),f=n(l);f!==null&&(!(f.expirationTime>$)||N&&!A());){var G=f.callback;if(typeof G=="function"){f.callback=null,m=f.priorityLevel;var P=G(f.expirationTime<=$);$=e.unstable_now(),typeof P=="function"?f.callback=P:f===n(l)&&r(l),p($)}else r(l);f=n(l)}if(f!==null)var I=!0;else{var z=n(c);z!==null&&he(k,z.startTime-$),I=!1}return I}finally{f=null,m=M,v=!1}}var x=!1,S=null,T=-1,L=5,O=-1;function A(){return!(e.unstable_now()-O<L)}function U(){if(S!==null){var N=e.unstable_now();O=N;var $=!0;try{$=S(!0,N)}finally{$?q():(x=!1,S=null)}}else x=!1}var q;if(typeof h=="function")q=function(){h(U)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Se=Q.port2;Q.port1.onmessage=U,q=function(){Se.postMessage(null)}}else q=function(){b(U,0)};function ye(N){S=N,x||(x=!0,q())}function he(N,$){T=b(function(){N(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,ye(E))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var M=m;m=$;try{return N()}finally{m=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,$){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=m;m=N;try{return $()}finally{m=M}},e.unstable_scheduleCallback=function(N,$,M){var G=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?G+M:G):M=G,N){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=M+P,N={id:d++,callback:$,priorityLevel:N,startTime:M,expirationTime:P,sortIndex:-1},M>G?(N.sortIndex=M,t(c,N),n(l)===null&&N===n(c)&&(_?(g(T),T=-1):_=!0,he(k,M-G))):(N.sortIndex=P,t(l,N),w||v||(w=!0,ye(E))),N},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(N){var $=m;return function(){var M=m;m=$;try{return N.apply(this,arguments)}finally{m=M}}}})(fd);dd.exports=fd;var Sm=dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=y,tt=Sm;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hd=new Set,cs={};function zn(e,t){kr(e,t),kr(e+"Capture",t)}function kr(e,t){for(cs[e]=t,e=0;e<t.length;e++)hd.add(t[e])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=Object.prototype.hasOwnProperty,Cm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mu={},pu={};function Nm(e){return to.call(pu,e)?!0:to.call(mu,e)?!1:Cm.test(e)?pu[e]=!0:(mu[e]=!0,!1)}function Tm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Om(e,t,n,r){if(t===null||typeof t>"u"||Tm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var ml=/[\-:]([a-z])/g;function pl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ml,pl);Oe[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ml,pl);Oe[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ml,pl);Oe[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function gl(e,t,n,r){var s=Oe.hasOwnProperty(t)?Oe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Om(t,n,s,r)&&(n=null),r||s===null?Nm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Wt=Pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bs=Symbol.for("react.element"),tr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),vl=Symbol.for("react.strict_mode"),no=Symbol.for("react.profiler"),md=Symbol.for("react.provider"),pd=Symbol.for("react.context"),yl=Symbol.for("react.forward_ref"),ro=Symbol.for("react.suspense"),so=Symbol.for("react.suspense_list"),wl=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),gd=Symbol.for("react.offscreen"),gu=Symbol.iterator;function Dr(e){return e===null||typeof e!="object"?null:(e=gu&&e[gu]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,ki;function Kr(e){if(ki===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ki=t&&t[1]||""}return`
`+ki+e}var _i=!1;function bi(e,t){if(!e||_i)return"";_i=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||s[i]!==a[o]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{_i=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Kr(e):""}function jm(e){switch(e.tag){case 5:return Kr(e.type);case 16:return Kr("Lazy");case 13:return Kr("Suspense");case 19:return Kr("SuspenseList");case 0:case 2:case 15:return e=bi(e.type,!1),e;case 11:return e=bi(e.type.render,!1),e;case 1:return e=bi(e.type,!0),e;default:return""}}function ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nr:return"Fragment";case tr:return"Portal";case no:return"Profiler";case vl:return"StrictMode";case ro:return"Suspense";case so:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pd:return(e.displayName||"Context")+".Consumer";case md:return(e._context.displayName||"Context")+".Provider";case yl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wl:return t=e.displayName||null,t!==null?t:ao(e.type)||"Memo";case Yt:t=e._payload,e=e._init;try{return ao(e(t))}catch{}}return null}function Rm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ao(t);case 8:return t===vl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $m(e){var t=vd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ws(e){e._valueTracker||(e._valueTracker=$m(e))}function yd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function io(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wd(e,t){t=t.checked,t!=null&&gl(e,"checked",t,!1)}function oo(e,t){wd(e,t);var n=pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&lo(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lo(e,t,n){(t!=="number"||ka(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gr=Array.isArray;function hr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function uo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Gr(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function kd(e,t){var n=pn(t.value),r=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ku(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _d(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function co(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_d(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hs,bd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hs=Hs||document.createElement("div"),Hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ds(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lm=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){Lm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xr[t]=Xr[e]})});function Ed(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+t).trim():t+"px"}function xd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ed(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Am=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fo(e,t){if(t){if(Am[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function ho(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var po=null,mr=null,pr=null;function _u(e){if(e=Ls(e)){if(typeof po!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Za(t),po(e.stateNode,e.type,t))}}function Sd(e){mr?pr?pr.push(e):pr=[e]:mr=e}function Pd(){if(mr){var e=mr,t=pr;if(pr=mr=null,_u(e),t)for(e=0;e<t.length;e++)_u(t[e])}}function Cd(e,t){return e(t)}function Nd(){}var Ei=!1;function Td(e,t,n){if(Ei)return e(t,n);Ei=!0;try{return Cd(e,t,n)}finally{Ei=!1,(mr!==null||pr!==null)&&(Nd(),Pd())}}function fs(e,t){var n=e.stateNode;if(n===null)return null;var r=Za(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var go=!1;if(Ut)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){go=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{go=!1}function Mm(e,t,n,r,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Zr=!1,_a=null,ba=!1,vo=null,Im={onError:function(e){Zr=!0,_a=e}};function Dm(e,t,n,r,s,a,i,o,l){Zr=!1,_a=null,Mm.apply(Im,arguments)}function Um(e,t,n,r,s,a,i,o,l){if(Dm.apply(this,arguments),Zr){if(Zr){var c=_a;Zr=!1,_a=null}else throw Error(C(198));ba||(ba=!0,vo=c)}}function Bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bu(e){if(Bn(e)!==e)throw Error(C(188))}function Fm(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return bu(s),e;if(a===r)return bu(s),t;a=a.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,r=a;break}if(o===r){i=!0,r=s,n=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===n){i=!0,n=a,r=s;break}if(o===r){i=!0,r=a,n=s;break}o=o.sibling}if(!i)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function jd(e){return e=Fm(e),e!==null?Rd(e):null}function Rd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rd(e);if(t!==null)return t;e=e.sibling}return null}var $d=tt.unstable_scheduleCallback,Eu=tt.unstable_cancelCallback,zm=tt.unstable_shouldYield,Bm=tt.unstable_requestPaint,pe=tt.unstable_now,Wm=tt.unstable_getCurrentPriorityLevel,_l=tt.unstable_ImmediatePriority,Ld=tt.unstable_UserBlockingPriority,Ea=tt.unstable_NormalPriority,Hm=tt.unstable_LowPriority,Ad=tt.unstable_IdlePriority,Qa=null,Tt=null;function qm(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Qa,e,void 0,(e.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:Gm,Vm=Math.log,Km=Math.LN2;function Gm(e){return e>>>=0,e===0?32:31-(Vm(e)/Km|0)|0}var qs=64,Vs=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xa(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var o=i&~s;o!==0?r=Qr(o):(a&=i,a!==0&&(r=Qr(a)))}else i=n&~s,i!==0?r=Qr(i):a!==0&&(r=Qr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yt(t),s=1<<n,r|=e[n],t&=~s;return r}function Qm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ym(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-yt(a),o=1<<i,l=s[i];l===-1?(!(o&n)||o&r)&&(s[i]=Qm(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Md(){var e=qs;return qs<<=1,!(qs&4194240)&&(qs=64),e}function xi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yt(t),e[t]=n}function Jm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-yt(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function bl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ee=0;function Id(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dd,El,Ud,Fd,zd,wo=!1,Ks=[],an=null,on=null,ln=null,hs=new Map,ms=new Map,Xt=[],Xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function Fr(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ls(t),t!==null&&El(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zm(e,t,n,r,s){switch(t){case"focusin":return an=Fr(an,e,t,n,r,s),!0;case"dragenter":return on=Fr(on,e,t,n,r,s),!0;case"mouseover":return ln=Fr(ln,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return hs.set(a,Fr(hs.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ms.set(a,Fr(ms.get(a)||null,e,t,n,r,s)),!0}return!1}function Bd(e){var t=jn(e.target);if(t!==null){var n=Bn(t);if(n!==null){if(t=n.tag,t===13){if(t=Od(n),t!==null){e.blockedOn=t,zd(e.priority,function(){Ud(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ko(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);mo=r,n.target.dispatchEvent(r),mo=null}else return t=Ls(n),t!==null&&El(t),e.blockedOn=n,!1;t.shift()}return!0}function Su(e,t,n){ca(e)&&n.delete(t)}function ep(){wo=!1,an!==null&&ca(an)&&(an=null),on!==null&&ca(on)&&(on=null),ln!==null&&ca(ln)&&(ln=null),hs.forEach(Su),ms.forEach(Su)}function zr(e,t){e.blockedOn===t&&(e.blockedOn=null,wo||(wo=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,ep)))}function ps(e){function t(s){return zr(s,e)}if(0<Ks.length){zr(Ks[0],e);for(var n=1;n<Ks.length;n++){var r=Ks[n];r.blockedOn===e&&(r.blockedOn=null)}}for(an!==null&&zr(an,e),on!==null&&zr(on,e),ln!==null&&zr(ln,e),hs.forEach(t),ms.forEach(t),n=0;n<Xt.length;n++)r=Xt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)Bd(n),n.blockedOn===null&&Xt.shift()}var gr=Wt.ReactCurrentBatchConfig,Sa=!0;function tp(e,t,n,r){var s=ee,a=gr.transition;gr.transition=null;try{ee=1,xl(e,t,n,r)}finally{ee=s,gr.transition=a}}function np(e,t,n,r){var s=ee,a=gr.transition;gr.transition=null;try{ee=4,xl(e,t,n,r)}finally{ee=s,gr.transition=a}}function xl(e,t,n,r){if(Sa){var s=ko(e,t,n,r);if(s===null)Li(e,t,r,Pa,n),xu(e,r);else if(Zm(s,e,t,n,r))r.stopPropagation();else if(xu(e,r),t&4&&-1<Xm.indexOf(e)){for(;s!==null;){var a=Ls(s);if(a!==null&&Dd(a),a=ko(e,t,n,r),a===null&&Li(e,t,r,Pa,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Li(e,t,r,null,n)}}var Pa=null;function ko(e,t,n,r){if(Pa=null,e=kl(r),e=jn(e),e!==null)if(t=Bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Od(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pa=e,null}function Wd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wm()){case _l:return 1;case Ld:return 4;case Ea:case Hm:return 16;case Ad:return 536870912;default:return 16}default:return 16}}var tn=null,Sl=null,da=null;function Hd(){if(da)return da;var e,t=Sl,n=t.length,r,s="value"in tn?tn.value:tn.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return da=s.slice(e,1<r?1-r:void 0)}function fa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gs(){return!0}function Pu(){return!1}function rt(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gs:Pu,this.isPropagationStopped=Pu,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gs)},persist:function(){},isPersistent:Gs}),t}var Or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=rt(Or),$s=le({},Or,{view:0,detail:0}),rp=rt($s),Si,Pi,Br,Ya=le({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Br&&(Br&&e.type==="mousemove"?(Si=e.screenX-Br.screenX,Pi=e.screenY-Br.screenY):Pi=Si=0,Br=e),Si)},movementY:function(e){return"movementY"in e?e.movementY:Pi}}),Cu=rt(Ya),sp=le({},Ya,{dataTransfer:0}),ap=rt(sp),ip=le({},$s,{relatedTarget:0}),Ci=rt(ip),op=le({},Or,{animationName:0,elapsedTime:0,pseudoElement:0}),lp=rt(op),up=le({},Or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cp=rt(up),dp=le({},Or,{data:0}),Nu=rt(dp),fp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mp[e])?!!t[e]:!1}function Cl(){return pp}var gp=le({},$s,{key:function(e){if(e.key){var t=fp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?fa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vp=rt(gp),yp=le({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=rt(yp),wp=le({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),kp=rt(wp),_p=le({},Or,{propertyName:0,elapsedTime:0,pseudoElement:0}),bp=rt(_p),Ep=le({},Ya,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xp=rt(Ep),Sp=[9,13,27,32],Nl=Ut&&"CompositionEvent"in window,es=null;Ut&&"documentMode"in document&&(es=document.documentMode);var Pp=Ut&&"TextEvent"in window&&!es,qd=Ut&&(!Nl||es&&8<es&&11>=es),Ou=" ",ju=!1;function Vd(e,t){switch(e){case"keyup":return Sp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function Cp(e,t){switch(e){case"compositionend":return Kd(t);case"keypress":return t.which!==32?null:(ju=!0,Ou);case"textInput":return e=t.data,e===Ou&&ju?null:e;default:return null}}function Np(e,t){if(rr)return e==="compositionend"||!Nl&&Vd(e,t)?(e=Hd(),da=Sl=tn=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qd&&t.locale!=="ko"?null:t.data;default:return null}}var Tp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tp[e.type]:t==="textarea"}function Gd(e,t,n,r){Sd(r),t=Ca(t,"onChange"),0<t.length&&(n=new Pl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ts=null,gs=null;function Op(e){af(e,0)}function Ja(e){var t=ir(e);if(yd(t))return e}function jp(e,t){if(e==="change")return t}var Qd=!1;if(Ut){var Ni;if(Ut){var Ti="oninput"in document;if(!Ti){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Ti=typeof $u.oninput=="function"}Ni=Ti}else Ni=!1;Qd=Ni&&(!document.documentMode||9<document.documentMode)}function Lu(){ts&&(ts.detachEvent("onpropertychange",Yd),gs=ts=null)}function Yd(e){if(e.propertyName==="value"&&Ja(gs)){var t=[];Gd(t,gs,e,kl(e)),Td(Op,t)}}function Rp(e,t,n){e==="focusin"?(Lu(),ts=t,gs=n,ts.attachEvent("onpropertychange",Yd)):e==="focusout"&&Lu()}function $p(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ja(gs)}function Lp(e,t){if(e==="click")return Ja(t)}function Ap(e,t){if(e==="input"||e==="change")return Ja(t)}function Mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Mp;function vs(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!to.call(t,s)||!kt(e[s],t[s]))return!1}return!0}function Au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mu(e,t){var n=Au(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Au(n)}}function Jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xd(){for(var e=window,t=ka();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ka(e.document)}return t}function Tl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ip(e){var t=Xd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jd(n.ownerDocument.documentElement,n)){if(r!==null&&Tl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Mu(n,a);var i=Mu(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dp=Ut&&"documentMode"in document&&11>=document.documentMode,sr=null,_o=null,ns=null,bo=!1;function Iu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bo||sr==null||sr!==ka(r)||(r=sr,"selectionStart"in r&&Tl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ns&&vs(ns,r)||(ns=r,r=Ca(_o,"onSelect"),0<r.length&&(t=new Pl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function Qs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ar={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionend:Qs("Transition","TransitionEnd")},Oi={},Zd={};Ut&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Xa(e){if(Oi[e])return Oi[e];if(!ar[e])return e;var t=ar[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Zd)return Oi[e]=t[n];return e}var ef=Xa("animationend"),tf=Xa("animationiteration"),nf=Xa("animationstart"),rf=Xa("transitionend"),sf=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,t){sf.set(e,t),zn(t,[e])}for(var ji=0;ji<Du.length;ji++){var Ri=Du[ji],Up=Ri.toLowerCase(),Fp=Ri[0].toUpperCase()+Ri.slice(1);yn(Up,"on"+Fp)}yn(ef,"onAnimationEnd");yn(tf,"onAnimationIteration");yn(nf,"onAnimationStart");yn("dblclick","onDoubleClick");yn("focusin","onFocus");yn("focusout","onBlur");yn(rf,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yr));function Uu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Um(r,t,void 0,e),e.currentTarget=null}function af(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Uu(s,o,c),a=l}else for(i=0;i<r.length;i++){if(o=r[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Uu(s,o,c),a=l}}}if(ba)throw e=vo,ba=!1,vo=null,e}function re(e,t){var n=t[Co];n===void 0&&(n=t[Co]=new Set);var r=e+"__bubble";n.has(r)||(of(t,e,2,!1),n.add(r))}function $i(e,t,n){var r=0;t&&(r|=4),of(n,e,r,t)}var Ys="_reactListening"+Math.random().toString(36).slice(2);function ys(e){if(!e[Ys]){e[Ys]=!0,hd.forEach(function(n){n!=="selectionchange"&&(zp.has(n)||$i(n,!1,e),$i(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ys]||(t[Ys]=!0,$i("selectionchange",!1,t))}}function of(e,t,n,r){switch(Wd(t)){case 1:var s=tp;break;case 4:s=np;break;default:s=xl}n=s.bind(null,t,n,e),s=void 0,!go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Li(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;o!==null;){if(i=jn(o),i===null)return;if(l=i.tag,l===5||l===6){r=a=i;continue e}o=o.parentNode}}r=r.return}Td(function(){var c=a,d=kl(n),f=[];e:{var m=sf.get(e);if(m!==void 0){var v=Pl,w=e;switch(e){case"keypress":if(fa(n)===0)break e;case"keydown":case"keyup":v=vp;break;case"focusin":w="focus",v=Ci;break;case"focusout":w="blur",v=Ci;break;case"beforeblur":case"afterblur":v=Ci;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ap;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=kp;break;case ef:case tf:case nf:v=lp;break;case rf:v=bp;break;case"scroll":v=rp;break;case"wheel":v=xp;break;case"copy":case"cut":case"paste":v=cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Tu}var _=(t&4)!==0,b=!_&&e==="scroll",g=_?m!==null?m+"Capture":null:m;_=[];for(var h=c,p;h!==null;){p=h;var k=p.stateNode;if(p.tag===5&&k!==null&&(p=k,g!==null&&(k=fs(h,g),k!=null&&_.push(ws(h,k,p)))),b)break;h=h.return}0<_.length&&(m=new v(m,w,null,n,d),f.push({event:m,listeners:_}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==mo&&(w=n.relatedTarget||n.fromElement)&&(jn(w)||w[Ft]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?jn(w):null,w!==null&&(b=Bn(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(_=Cu,k="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(_=Tu,k="onPointerLeave",g="onPointerEnter",h="pointer"),b=v==null?m:ir(v),p=w==null?m:ir(w),m=new _(k,h+"leave",v,n,d),m.target=b,m.relatedTarget=p,k=null,jn(d)===c&&(_=new _(g,h+"enter",w,n,d),_.target=p,_.relatedTarget=b,k=_),b=k,v&&w)t:{for(_=v,g=w,h=0,p=_;p;p=Vn(p))h++;for(p=0,k=g;k;k=Vn(k))p++;for(;0<h-p;)_=Vn(_),h--;for(;0<p-h;)g=Vn(g),p--;for(;h--;){if(_===g||g!==null&&_===g.alternate)break t;_=Vn(_),g=Vn(g)}_=null}else _=null;v!==null&&Fu(f,m,v,_,!1),w!==null&&b!==null&&Fu(f,b,w,_,!0)}}e:{if(m=c?ir(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var E=jp;else if(Ru(m))if(Qd)E=Ap;else{E=$p;var x=Rp}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(E=Lp);if(E&&(E=E(e,c))){Gd(f,E,n,d);break e}x&&x(e,m,c),e==="focusout"&&(x=m._wrapperState)&&x.controlled&&m.type==="number"&&lo(m,"number",m.value)}switch(x=c?ir(c):window,e){case"focusin":(Ru(x)||x.contentEditable==="true")&&(sr=x,_o=c,ns=null);break;case"focusout":ns=_o=sr=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,Iu(f,n,d);break;case"selectionchange":if(Dp)break;case"keydown":case"keyup":Iu(f,n,d)}var S;if(Nl)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else rr?Vd(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(qd&&n.locale!=="ko"&&(rr||T!=="onCompositionStart"?T==="onCompositionEnd"&&rr&&(S=Hd()):(tn=d,Sl="value"in tn?tn.value:tn.textContent,rr=!0)),x=Ca(c,T),0<x.length&&(T=new Nu(T,e,null,n,d),f.push({event:T,listeners:x}),S?T.data=S:(S=Kd(n),S!==null&&(T.data=S)))),(S=Pp?Cp(e,n):Np(e,n))&&(c=Ca(c,"onBeforeInput"),0<c.length&&(d=new Nu("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}af(f,t)})}function ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ca(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=fs(e,n),a!=null&&r.unshift(ws(e,a,s)),a=fs(e,t),a!=null&&r.push(ws(e,a,s))),e=e.return}return r}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fu(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,s?(l=fs(n,a),l!=null&&i.unshift(ws(n,l,o))):s||(l=fs(n,a),l!=null&&i.push(ws(n,l,o)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Bp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function zu(e){return(typeof e=="string"?e:""+e).replace(Bp,`
`).replace(Wp,"")}function Js(e,t,n){if(t=zu(t),zu(e)!==t&&n)throw Error(C(425))}function Na(){}var Eo=null,xo=null;function So(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Po=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Bu=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof Bu<"u"?function(e){return Bu.resolve(null).then(e).catch(Vp)}:Po;function Vp(e){setTimeout(function(){throw e})}function Ai(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ps(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var jr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+jr,ks="__reactProps$"+jr,Ft="__reactContainer$"+jr,Co="__reactEvents$"+jr,Kp="__reactListeners$"+jr,Gp="__reactHandles$"+jr;function jn(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wu(e);e!==null;){if(n=e[Pt])return n;e=Wu(e)}return t}e=n,n=e.parentNode}return null}function Ls(e){return e=e[Pt]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ir(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Za(e){return e[ks]||null}var No=[],or=-1;function wn(e){return{current:e}}function se(e){0>or||(e.current=No[or],No[or]=null,or--)}function ne(e,t){or++,No[or]=e.current,e.current=t}var gn={},Ie=wn(gn),Ge=wn(!1),Mn=gn;function _r(e,t){var n=e.type.contextTypes;if(!n)return gn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qe(e){return e=e.childContextTypes,e!=null}function Ta(){se(Ge),se(Ie)}function Hu(e,t,n){if(Ie.current!==gn)throw Error(C(168));ne(Ie,t),ne(Ge,n)}function lf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,Rm(e)||"Unknown",s));return le({},n,r)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gn,Mn=Ie.current,ne(Ie,e),ne(Ge,Ge.current),!0}function qu(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=lf(e,t,Mn),r.__reactInternalMemoizedMergedChildContext=e,se(Ge),se(Ie),ne(Ie,e)):se(Ge),ne(Ge,n)}var At=null,ei=!1,Mi=!1;function uf(e){At===null?At=[e]:At.push(e)}function Qp(e){ei=!0,uf(e)}function kn(){if(!Mi&&At!==null){Mi=!0;var e=0,t=ee;try{var n=At;for(ee=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}At=null,ei=!1}catch(s){throw At!==null&&(At=At.slice(e+1)),$d(_l,kn),s}finally{ee=t,Mi=!1}}return null}var lr=[],ur=0,ja=null,Ra=0,at=[],it=0,In=null,Mt=1,It="";function Sn(e,t){lr[ur++]=Ra,lr[ur++]=ja,ja=e,Ra=t}function cf(e,t,n){at[it++]=Mt,at[it++]=It,at[it++]=In,In=e;var r=Mt;e=It;var s=32-yt(r)-1;r&=~(1<<s),n+=1;var a=32-yt(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Mt=1<<32-yt(t)+s|n<<s|r,It=a+e}else Mt=1<<a|n<<s|r,It=e}function Ol(e){e.return!==null&&(Sn(e,1),cf(e,1,0))}function jl(e){for(;e===ja;)ja=lr[--ur],lr[ur]=null,Ra=lr[--ur],lr[ur]=null;for(;e===In;)In=at[--it],at[it]=null,It=at[--it],at[it]=null,Mt=at[--it],at[it]=null}var et=null,Ze=null,ae=!1,vt=null;function df(e,t){var n=ot(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=In!==null?{id:Mt,overflow:It}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ot(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Ze=null,!0):!1;default:return!1}}function To(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Oo(e){if(ae){var t=Ze;if(t){var n=t;if(!Vu(e,t)){if(To(e))throw Error(C(418));t=un(n.nextSibling);var r=et;t&&Vu(e,t)?df(r,n):(e.flags=e.flags&-4097|2,ae=!1,et=e)}}else{if(To(e))throw Error(C(418));e.flags=e.flags&-4097|2,ae=!1,et=e}}}function Ku(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function Xs(e){if(e!==et)return!1;if(!ae)return Ku(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!So(e.type,e.memoizedProps)),t&&(t=Ze)){if(To(e))throw ff(),Error(C(418));for(;t;)df(e,t),t=un(t.nextSibling)}if(Ku(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ze=un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?un(e.stateNode.nextSibling):null;return!0}function ff(){for(var e=Ze;e;)e=un(e.nextSibling)}function br(){Ze=et=null,ae=!1}function Rl(e){vt===null?vt=[e]:vt.push(e)}var Yp=Wt.ReactCurrentBatchConfig;function Wr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=s.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gu(e){var t=e._init;return t(e._payload)}function hf(e){function t(g,h){if(e){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function n(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function s(g,h){return g=hn(g,h),g.index=0,g.sibling=null,g}function a(g,h,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,h,p,k){return h===null||h.tag!==6?(h=Wi(p,g.mode,k),h.return=g,h):(h=s(h,p),h.return=g,h)}function l(g,h,p,k){var E=p.type;return E===nr?d(g,h,p.props.children,k,p.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yt&&Gu(E)===h.type)?(k=s(h,p.props),k.ref=Wr(g,h,p),k.return=g,k):(k=wa(p.type,p.key,p.props,null,g.mode,k),k.ref=Wr(g,h,p),k.return=g,k)}function c(g,h,p,k){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Hi(p,g.mode,k),h.return=g,h):(h=s(h,p.children||[]),h.return=g,h)}function d(g,h,p,k,E){return h===null||h.tag!==7?(h=An(p,g.mode,k,E),h.return=g,h):(h=s(h,p),h.return=g,h)}function f(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Wi(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Bs:return p=wa(h.type,h.key,h.props,null,g.mode,p),p.ref=Wr(g,null,h),p.return=g,p;case tr:return h=Hi(h,g.mode,p),h.return=g,h;case Yt:var k=h._init;return f(g,k(h._payload),p)}if(Gr(h)||Dr(h))return h=An(h,g.mode,p,null),h.return=g,h;Zs(g,h)}return null}function m(g,h,p,k){var E=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:o(g,h,""+p,k);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Bs:return p.key===E?l(g,h,p,k):null;case tr:return p.key===E?c(g,h,p,k):null;case Yt:return E=p._init,m(g,h,E(p._payload),k)}if(Gr(p)||Dr(p))return E!==null?null:d(g,h,p,k,null);Zs(g,p)}return null}function v(g,h,p,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(p)||null,o(h,g,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Bs:return g=g.get(k.key===null?p:k.key)||null,l(h,g,k,E);case tr:return g=g.get(k.key===null?p:k.key)||null,c(h,g,k,E);case Yt:var x=k._init;return v(g,h,p,x(k._payload),E)}if(Gr(k)||Dr(k))return g=g.get(p)||null,d(h,g,k,E,null);Zs(h,k)}return null}function w(g,h,p,k){for(var E=null,x=null,S=h,T=h=0,L=null;S!==null&&T<p.length;T++){S.index>T?(L=S,S=null):L=S.sibling;var O=m(g,S,p[T],k);if(O===null){S===null&&(S=L);break}e&&S&&O.alternate===null&&t(g,S),h=a(O,h,T),x===null?E=O:x.sibling=O,x=O,S=L}if(T===p.length)return n(g,S),ae&&Sn(g,T),E;if(S===null){for(;T<p.length;T++)S=f(g,p[T],k),S!==null&&(h=a(S,h,T),x===null?E=S:x.sibling=S,x=S);return ae&&Sn(g,T),E}for(S=r(g,S);T<p.length;T++)L=v(S,g,T,p[T],k),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?T:L.key),h=a(L,h,T),x===null?E=L:x.sibling=L,x=L);return e&&S.forEach(function(A){return t(g,A)}),ae&&Sn(g,T),E}function _(g,h,p,k){var E=Dr(p);if(typeof E!="function")throw Error(C(150));if(p=E.call(p),p==null)throw Error(C(151));for(var x=E=null,S=h,T=h=0,L=null,O=p.next();S!==null&&!O.done;T++,O=p.next()){S.index>T?(L=S,S=null):L=S.sibling;var A=m(g,S,O.value,k);if(A===null){S===null&&(S=L);break}e&&S&&A.alternate===null&&t(g,S),h=a(A,h,T),x===null?E=A:x.sibling=A,x=A,S=L}if(O.done)return n(g,S),ae&&Sn(g,T),E;if(S===null){for(;!O.done;T++,O=p.next())O=f(g,O.value,k),O!==null&&(h=a(O,h,T),x===null?E=O:x.sibling=O,x=O);return ae&&Sn(g,T),E}for(S=r(g,S);!O.done;T++,O=p.next())O=v(S,g,T,O.value,k),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?T:O.key),h=a(O,h,T),x===null?E=O:x.sibling=O,x=O);return e&&S.forEach(function(U){return t(g,U)}),ae&&Sn(g,T),E}function b(g,h,p,k){if(typeof p=="object"&&p!==null&&p.type===nr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Bs:e:{for(var E=p.key,x=h;x!==null;){if(x.key===E){if(E=p.type,E===nr){if(x.tag===7){n(g,x.sibling),h=s(x,p.props.children),h.return=g,g=h;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Yt&&Gu(E)===x.type){n(g,x.sibling),h=s(x,p.props),h.ref=Wr(g,x,p),h.return=g,g=h;break e}n(g,x);break}else t(g,x);x=x.sibling}p.type===nr?(h=An(p.props.children,g.mode,k,p.key),h.return=g,g=h):(k=wa(p.type,p.key,p.props,null,g.mode,k),k.ref=Wr(g,h,p),k.return=g,g=k)}return i(g);case tr:e:{for(x=p.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(g,h.sibling),h=s(h,p.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else t(g,h);h=h.sibling}h=Hi(p,g.mode,k),h.return=g,g=h}return i(g);case Yt:return x=p._init,b(g,h,x(p._payload),k)}if(Gr(p))return w(g,h,p,k);if(Dr(p))return _(g,h,p,k);Zs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(n(g,h.sibling),h=s(h,p),h.return=g,g=h):(n(g,h),h=Wi(p,g.mode,k),h.return=g,g=h),i(g)):n(g,h)}return b}var Er=hf(!0),mf=hf(!1),$a=wn(null),La=null,cr=null,$l=null;function Ll(){$l=cr=La=null}function Al(e){var t=$a.current;se($a),e._currentValue=t}function jo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vr(e,t){La=e,$l=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if($l!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if(La===null)throw Error(C(308));cr=e,La.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var Rn=null;function Ml(e){Rn===null?Rn=[e]:Rn.push(e)}function pf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ml(t)):(n.next=s.next,s.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function Il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,zt(e,n)}return s=r.interleaved,s===null?(t.next=t,Ml(r)):(t.next=s.next,s.next=t),r.interleaved=t,zt(e,n)}function ha(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bl(e,n)}}function Qu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Aa(e,t,n,r){var s=e.updateQueue;Jt=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?a=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(a!==null){var f=s.baseState;i=0,d=c=l=null,o=a;do{var m=o.lane,v=o.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,_=o;switch(m=t,v=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){f=w.call(v,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,m=typeof w=="function"?w.call(v,f,m):w,m==null)break e;f=le({},f,m);break e;case 2:Jt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=v,l=f):d=d.next=v,i|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Un|=i,e.lanes=i,e.memoizedState=f}}function Yu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var As={},Ot=wn(As),_s=wn(As),bs=wn(As);function $n(e){if(e===As)throw Error(C(174));return e}function Dl(e,t){switch(ne(bs,t),ne(_s,e),ne(Ot,As),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:co(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=co(t,e)}se(Ot),ne(Ot,t)}function xr(){se(Ot),se(_s),se(bs)}function vf(e){$n(bs.current);var t=$n(Ot.current),n=co(t,e.type);t!==n&&(ne(_s,e),ne(Ot,n))}function Ul(e){_s.current===e&&(se(Ot),se(_s))}var ie=wn(0);function Ma(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ii=[];function Fl(){for(var e=0;e<Ii.length;e++)Ii[e]._workInProgressVersionPrimary=null;Ii.length=0}var ma=Wt.ReactCurrentDispatcher,Di=Wt.ReactCurrentBatchConfig,Dn=0,oe=null,Ee=null,Pe=null,Ia=!1,rs=!1,Es=0,Jp=0;function Le(){throw Error(C(321))}function zl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Bl(e,t,n,r,s,a){if(Dn=a,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ma.current=e===null||e.memoizedState===null?tg:ng,e=n(r,s),rs){a=0;do{if(rs=!1,Es=0,25<=a)throw Error(C(301));a+=1,Pe=Ee=null,t.updateQueue=null,ma.current=rg,e=n(r,s)}while(rs)}if(ma.current=Da,t=Ee!==null&&Ee.next!==null,Dn=0,Pe=Ee=oe=null,Ia=!1,t)throw Error(C(300));return e}function Wl(){var e=Es!==0;return Es=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?oe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function dt(){if(Ee===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=Pe===null?oe.memoizedState:Pe.next;if(t!==null)Pe=t,Ee=e;else{if(e===null)throw Error(C(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Pe===null?oe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function xs(e,t){return typeof t=="function"?t(e):t}function Ui(e){var t=dt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=Ee,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var o=i=null,l=null,c=a;do{var d=c.lane;if((Dn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,i=r):l=l.next=f,oe.lanes|=d,Un|=d}c=c.next}while(c!==null&&c!==a);l===null?i=r:l.next=o,kt(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,oe.lanes|=a,Un|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fi(e){var t=dt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);kt(a,t.memoizedState)||(Ke=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yf(){}function wf(e,t){var n=oe,r=dt(),s=t(),a=!kt(r.memoizedState,s);if(a&&(r.memoizedState=s,Ke=!0),r=r.queue,Hl(bf.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Ss(9,_f.bind(null,n,r,s,t),void 0,null),Ce===null)throw Error(C(349));Dn&30||kf(n,t,s)}return s}function kf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _f(e,t,n,r){t.value=n,t.getSnapshot=r,Ef(t)&&xf(e)}function bf(e,t,n){return n(function(){Ef(t)&&xf(e)})}function Ef(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function xf(e){var t=zt(e,1);t!==null&&wt(t,e,1,-1)}function Ju(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=eg.bind(null,oe,e),[t.memoizedState,e]}function Ss(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Sf(){return dt().memoizedState}function pa(e,t,n,r){var s=xt();oe.flags|=e,s.memoizedState=Ss(1|t,n,void 0,r===void 0?null:r)}function ti(e,t,n,r){var s=dt();r=r===void 0?null:r;var a=void 0;if(Ee!==null){var i=Ee.memoizedState;if(a=i.destroy,r!==null&&zl(r,i.deps)){s.memoizedState=Ss(t,n,a,r);return}}oe.flags|=e,s.memoizedState=Ss(1|t,n,a,r)}function Xu(e,t){return pa(8390656,8,e,t)}function Hl(e,t){return ti(2048,8,e,t)}function Pf(e,t){return ti(4,2,e,t)}function Cf(e,t){return ti(4,4,e,t)}function Nf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tf(e,t,n){return n=n!=null?n.concat([e]):null,ti(4,4,Nf.bind(null,t,e),n)}function ql(){}function Of(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function jf(e,t){var n=dt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Rf(e,t,n){return Dn&21?(kt(n,t)||(n=Md(),oe.lanes|=n,Un|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function Xp(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var r=Di.transition;Di.transition={};try{e(!1),t()}finally{ee=n,Di.transition=r}}function $f(){return dt().memoizedState}function Zp(e,t,n){var r=fn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Lf(e))Af(t,n);else if(n=pf(e,t,n,r),n!==null){var s=Fe();wt(n,e,r,s),Mf(n,t,r)}}function eg(e,t,n){var r=fn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lf(e))Af(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,kt(o,i)){var l=t.interleaved;l===null?(s.next=s,Ml(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=pf(e,t,s,r),n!==null&&(s=Fe(),wt(n,e,r,s),Mf(n,t,r))}}function Lf(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Af(e,t){rs=Ia=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bl(e,n)}}var Da={readContext:ct,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},tg={readContext:ct,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Xu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pa(4194308,4,Nf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return pa(4,2,e,t)},useMemo:function(e,t){var n=xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zp.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:Ju,useDebugValue:ql,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=Ju(!1),t=e[0];return e=Xp.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,s=xt();if(ae){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),Ce===null)throw Error(C(349));Dn&30||kf(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Xu(bf.bind(null,r,a,e),[e]),r.flags|=2048,Ss(9,_f.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xt(),t=Ce.identifierPrefix;if(ae){var n=It,r=Mt;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Es++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ng={readContext:ct,useCallback:Of,useContext:ct,useEffect:Hl,useImperativeHandle:Tf,useInsertionEffect:Pf,useLayoutEffect:Cf,useMemo:jf,useReducer:Ui,useRef:Sf,useState:function(){return Ui(xs)},useDebugValue:ql,useDeferredValue:function(e){var t=dt();return Rf(t,Ee.memoizedState,e)},useTransition:function(){var e=Ui(xs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:yf,useSyncExternalStore:wf,useId:$f,unstable_isNewReconciler:!1},rg={readContext:ct,useCallback:Of,useContext:ct,useEffect:Hl,useImperativeHandle:Tf,useInsertionEffect:Pf,useLayoutEffect:Cf,useMemo:jf,useReducer:Fi,useRef:Sf,useState:function(){return Fi(xs)},useDebugValue:ql,useDeferredValue:function(e){var t=dt();return Ee===null?t.memoizedState=e:Rf(t,Ee.memoizedState,e)},useTransition:function(){var e=Fi(xs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:yf,useSyncExternalStore:wf,useId:$f,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ro(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ni={isMounted:function(e){return(e=e._reactInternals)?Bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=fn(e),a=Dt(r,s);a.payload=t,n!=null&&(a.callback=n),t=cn(e,a,s),t!==null&&(wt(t,e,s,r),ha(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=fn(e),a=Dt(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=cn(e,a,s),t!==null&&(wt(t,e,s,r),ha(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=fn(e),s=Dt(n,r);s.tag=2,t!=null&&(s.callback=t),t=cn(e,s,r),t!==null&&(wt(t,e,r,n),ha(t,e,r))}};function Zu(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!vs(n,r)||!vs(s,a):!0}function If(e,t,n){var r=!1,s=gn,a=t.contextType;return typeof a=="object"&&a!==null?a=ct(a):(s=Qe(t)?Mn:Ie.current,r=t.contextTypes,a=(r=r!=null)?_r(e,s):gn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ec(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Il(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=ct(a):(a=Qe(t)?Mn:Ie.current,s.context=_r(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ro(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ni.enqueueReplaceState(s,s.state,null),Aa(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Sr(e,t){try{var n="",r=t;do n+=jm(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function zi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Lo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var sg=typeof WeakMap=="function"?WeakMap:Map;function Df(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fa||(Fa=!0,Ho=r),Lo(e,t)},n}function Uf(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Lo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Lo(e,t),typeof r!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function tc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new sg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=yg.bind(null,e,t,n),t.then(e,e))}function nc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e)}var ag=Wt.ReactCurrentOwner,Ke=!1;function Ue(e,t,n,r){t.child=e===null?mf(t,null,n,r):Er(t,e.child,n,r)}function sc(e,t,n,r,s){n=n.render;var a=t.ref;return vr(t,s),r=Bl(e,t,n,r,a,s),n=Wl(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(ae&&n&&Ol(t),t.flags|=1,Ue(e,t,r,s),t.child)}function ac(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Zl(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Ff(e,t,a,r,s)):(e=wa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:vs,n(i,r)&&e.ref===t.ref)return Bt(e,t,s)}return t.flags|=1,e=hn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Ff(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(vs(a,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Bt(e,t,s)}return Ao(e,t,n,r,s)}function zf(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(fr,Xe),Xe|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(fr,Xe),Xe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ne(fr,Xe),Xe|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ne(fr,Xe),Xe|=r;return Ue(e,t,s,n),t.child}function Bf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,n,r,s){var a=Qe(n)?Mn:Ie.current;return a=_r(t,a),vr(t,s),n=Bl(e,t,n,r,a,s),r=Wl(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(ae&&r&&Ol(t),t.flags|=1,Ue(e,t,n,s),t.child)}function ic(e,t,n,r,s){if(Qe(n)){var a=!0;Oa(t)}else a=!1;if(vr(t,s),t.stateNode===null)ga(e,t),If(t,n,r),$o(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=ct(c):(c=Qe(n)?Mn:Ie.current,c=_r(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||l!==c)&&ec(t,i,r,c),Jt=!1;var m=t.memoizedState;i.state=m,Aa(t,r,i,s),l=t.memoizedState,o!==r||m!==l||Ge.current||Jt?(typeof d=="function"&&(Ro(t,n,d,r),l=t.memoizedState),(o=Jt||Zu(t,n,o,r,m,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,gf(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:mt(t.type,o),i.props=c,f=t.pendingProps,m=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=ct(l):(l=Qe(n)?Mn:Ie.current,l=_r(t,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||m!==l)&&ec(t,i,r,l),Jt=!1,m=t.memoizedState,i.state=m,Aa(t,r,i,s);var w=t.memoizedState;o!==f||m!==w||Ge.current||Jt?(typeof v=="function"&&(Ro(t,n,v,r),w=t.memoizedState),(c=Jt||Zu(t,n,c,r,m,w,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Mo(e,t,n,r,a,s)}function Mo(e,t,n,r,s,a){Bf(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&qu(t,n,!1),Bt(e,t,a);r=t.stateNode,ag.current=t;var o=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Er(t,e.child,null,a),t.child=Er(t,null,o,a)):Ue(e,t,o,a),t.memoizedState=r.state,s&&qu(t,n,!0),t.child}function Wf(e){var t=e.stateNode;t.pendingContext?Hu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hu(e,t.context,!1),Dl(e,t.containerInfo)}function oc(e,t,n,r,s){return br(),Rl(s),t.flags|=256,Ue(e,t,n,r),t.child}var Io={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hf(e,t,n){var r=t.pendingProps,s=ie.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ne(ie,s&1),e===null)return Oo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=ai(i,r,0,null),e=An(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Do(n),t.memoizedState=Io,e):Vl(t,i));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return ig(e,t,i,r,o,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=hn(o,a):(a=An(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Do(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Io,r}return a=e.child,e=a.sibling,r=hn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Vl(e,t){return t=ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ea(e,t,n,r){return r!==null&&Rl(r),Er(t,e.child,null,n),e=Vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ig(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=zi(Error(C(422))),ea(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=ai({mode:"visible",children:r.children},s,0,null),a=An(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Er(t,e.child,null,i),t.child.memoizedState=Do(i),t.memoizedState=Io,a);if(!(t.mode&1))return ea(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(C(419)),r=zi(a,r,void 0),ea(e,t,i,r)}if(o=(i&e.childLanes)!==0,Ke||o){if(r=Ce,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,zt(e,s),wt(r,e,s,-1))}return Xl(),r=zi(Error(C(421))),ea(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wg.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ze=un(s.nextSibling),et=t,ae=!0,vt=null,e!==null&&(at[it++]=Mt,at[it++]=It,at[it++]=In,Mt=e.id,It=e.overflow,In=t),t=Vl(t,r.children),t.flags|=4096,t)}function lc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),jo(e.return,t,n)}function Bi(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function qf(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Ue(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lc(e,n,t);else if(e.tag===19)lc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ma(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bi(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ma(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bi(t,!0,n,null,a);break;case"together":Bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ga(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=hn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function og(e,t,n){switch(t.tag){case 3:Wf(t),br();break;case 5:vf(t);break;case 1:Qe(t.type)&&Oa(t);break;case 4:Dl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ne($a,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Hf(e,t,n):(ne(ie,ie.current&1),e=Bt(e,t,n),e!==null?e.sibling:null);ne(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,zf(e,t,n)}return Bt(e,t,n)}var Vf,Uo,Kf,Gf;Vf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uo=function(){};Kf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,$n(Ot.current);var a=null;switch(n){case"input":s=io(e,s),r=io(e,r),a=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),a=[];break;case"textarea":s=uo(e,s),r=uo(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Na)}fo(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cs.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(a||(a=[]),a.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&re("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};Gf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hr(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lg(e,t,n){var r=t.pendingProps;switch(jl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Qe(t.type)&&Ta(),Ae(t),null;case 3:return r=t.stateNode,xr(),se(Ge),se(Ie),Fl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vt!==null&&(Ko(vt),vt=null))),Uo(e,t),Ae(t),null;case 5:Ul(t);var s=$n(bs.current);if(n=t.type,e!==null&&t.stateNode!=null)Kf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Ae(t),null}if(e=$n(Ot.current),Xs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Pt]=t,r[ks]=a,e=(t.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(s=0;s<Yr.length;s++)re(Yr[s],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":vu(r,a),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},re("invalid",r);break;case"textarea":wu(r,a),re("invalid",r)}fo(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Js(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Js(r.textContent,o,e),s=["children",""+o]):cs.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&re("scroll",r)}switch(n){case"input":Ws(r),yu(r,a,!0);break;case"textarea":Ws(r),ku(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Na)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_d(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Pt]=t,e[ks]=r,Vf(e,t,!1,!1),t.stateNode=e;e:{switch(i=ho(n,r),n){case"dialog":re("cancel",e),re("close",e),s=r;break;case"iframe":case"object":case"embed":re("load",e),s=r;break;case"video":case"audio":for(s=0;s<Yr.length;s++)re(Yr[s],e);s=r;break;case"source":re("error",e),s=r;break;case"img":case"image":case"link":re("error",e),re("load",e),s=r;break;case"details":re("toggle",e),s=r;break;case"input":vu(e,r),s=io(e,r),re("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),re("invalid",e);break;case"textarea":wu(e,r),s=uo(e,r),re("invalid",e);break;default:s=r}fo(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?xd(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bd(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ds(e,l):typeof l=="number"&&ds(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(cs.hasOwnProperty(a)?l!=null&&a==="onScroll"&&re("scroll",e):l!=null&&gl(e,a,l,i))}switch(n){case"input":Ws(e),yu(e,r,!1);break;case"textarea":Ws(e),ku(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?hr(e,!!r.multiple,a,!1):r.defaultValue!=null&&hr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Na)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)Gf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=$n(bs.current),$n(Ot.current),Xs(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pt]=t,(a=r.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:Js(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Js(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=t,t.stateNode=r}return Ae(t),null;case 13:if(se(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Ze!==null&&t.mode&1&&!(t.flags&128))ff(),br(),t.flags|=98560,a=!1;else if(a=Xs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(C(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(C(317));a[Pt]=t}else br(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),a=!1}else vt!==null&&(Ko(vt),vt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?xe===0&&(xe=3):Xl())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return xr(),Uo(e,t),e===null&&ys(t.stateNode.containerInfo),Ae(t),null;case 10:return Al(t.type._context),Ae(t),null;case 17:return Qe(t.type)&&Ta(),Ae(t),null;case 19:if(se(ie),a=t.memoizedState,a===null)return Ae(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Hr(a,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ma(e),i!==null){for(t.flags|=128,Hr(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(ie,ie.current&1|2),t.child}e=e.sibling}a.tail!==null&&pe()>Pr&&(t.flags|=128,r=!0,Hr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ma(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ae)return Ae(t),null}else 2*pe()-a.renderingStartTime>Pr&&n!==1073741824&&(t.flags|=128,r=!0,Hr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=pe(),t.sibling=null,n=ie.current,ne(ie,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return Jl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function ug(e,t){switch(jl(t),t.tag){case 1:return Qe(t.type)&&Ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xr(),se(Ge),se(Ie),Fl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ul(t),null;case 13:if(se(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));br()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(ie),null;case 4:return xr(),null;case 10:return Al(t.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var ta=!1,Me=!1,cg=typeof WeakSet=="function"?WeakSet:Set,j=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){de(e,t,r)}else n.current=null}function Fo(e,t,n){try{n()}catch(r){de(e,t,r)}}var uc=!1;function dg(e,t){if(Eo=Sa,e=Xd(),Tl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,o=-1,l=-1,c=0,d=0,f=e,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(o=i+s),f!==a||r!==0&&f.nodeType!==3||(l=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===e)break t;if(m===n&&++c===s&&(o=i),m===a&&++d===r&&(l=i),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xo={focusedElem:e,selectionRange:n},Sa=!1,j=t;j!==null;)if(t=j,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,j=e;else for(;j!==null;){t=j;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,b=w.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:mt(t.type,_),b);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(k){de(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,j=e;break}j=t.return}return w=uc,uc=!1,w}function ss(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Fo(t,n,a)}s=s.next}while(s!==r)}}function ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function zo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qf(e){var t=e.alternate;t!==null&&(e.alternate=null,Qf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[ks],delete t[Co],delete t[Kp],delete t[Gp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Yf(e){return e.tag===5||e.tag===3||e.tag===4}function cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Yf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Na));else if(r!==4&&(e=e.child,e!==null))for(Bo(e,t,n),e=e.sibling;e!==null;)Bo(e,t,n),e=e.sibling}function Wo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Wo(e,t,n),e=e.sibling;e!==null;)Wo(e,t,n),e=e.sibling}var Ne=null,pt=!1;function Vt(e,t,n){for(n=n.child;n!==null;)Jf(e,t,n),n=n.sibling}function Jf(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Qa,n)}catch{}switch(n.tag){case 5:Me||dr(n,t);case 6:var r=Ne,s=pt;Ne=null,Vt(e,t,n),Ne=r,pt=s,Ne!==null&&(pt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(pt?(e=Ne,n=n.stateNode,e.nodeType===8?Ai(e.parentNode,n):e.nodeType===1&&Ai(e,n),ps(e)):Ai(Ne,n.stateNode));break;case 4:r=Ne,s=pt,Ne=n.stateNode.containerInfo,pt=!0,Vt(e,t,n),Ne=r,pt=s;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Fo(n,t,i),s=s.next}while(s!==r)}Vt(e,t,n);break;case 1:if(!Me&&(dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){de(n,t,o)}Vt(e,t,n);break;case 21:Vt(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,Vt(e,t,n),Me=r):Vt(e,t,n);break;default:Vt(e,t,n)}}function dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cg),t.forEach(function(r){var s=kg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ft(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ne=o.stateNode,pt=!1;break e;case 3:Ne=o.stateNode.containerInfo,pt=!0;break e;case 4:Ne=o.stateNode.containerInfo,pt=!0;break e}o=o.return}if(Ne===null)throw Error(C(160));Jf(a,i,s),Ne=null,pt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){de(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xf(t,e),t=t.sibling}function Xf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),Et(e),r&4){try{ss(3,e,e.return),ri(3,e)}catch(_){de(e,e.return,_)}try{ss(5,e,e.return)}catch(_){de(e,e.return,_)}}break;case 1:ft(t,e),Et(e),r&512&&n!==null&&dr(n,n.return);break;case 5:if(ft(t,e),Et(e),r&512&&n!==null&&dr(n,n.return),e.flags&32){var s=e.stateNode;try{ds(s,"")}catch(_){de(e,e.return,_)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&wd(s,a),ho(o,i);var c=ho(o,a);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?xd(s,f):d==="dangerouslySetInnerHTML"?bd(s,f):d==="children"?ds(s,f):gl(s,d,f,c)}switch(o){case"input":oo(s,a);break;case"textarea":kd(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?hr(s,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?hr(s,!!a.multiple,a.defaultValue,!0):hr(s,!!a.multiple,a.multiple?[]:"",!1))}s[ks]=a}catch(_){de(e,e.return,_)}}break;case 6:if(ft(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(_){de(e,e.return,_)}}break;case 3:if(ft(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ps(t.containerInfo)}catch(_){de(e,e.return,_)}break;case 4:ft(t,e),Et(e);break;case 13:ft(t,e),Et(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ql=pe())),r&4&&dc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(c=Me)||d,ft(t,e),Me=c):ft(t,e),Et(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(j=e,d=e.child;d!==null;){for(f=j=d;j!==null;){switch(m=j,v=m.child,m.tag){case 0:case 11:case 14:case 15:ss(4,m,m.return);break;case 1:dr(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(_){de(r,n,_)}}break;case 5:dr(m,m.return);break;case 22:if(m.memoizedState!==null){hc(f);continue}}v!==null?(v.return=m,j=v):hc(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Ed("display",i))}catch(_){de(e,e.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){de(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ft(t,e),Et(e),r&4&&dc(e);break;case 21:break;default:ft(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Yf(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ds(s,""),r.flags&=-33);var a=cc(e);Wo(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,o=cc(e);Bo(e,o,i);break;default:throw Error(C(161))}}catch(l){de(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fg(e,t,n){j=e,Zf(e)}function Zf(e,t,n){for(var r=(e.mode&1)!==0;j!==null;){var s=j,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ta;if(!i){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Me;o=ta;var c=Me;if(ta=i,(Me=l)&&!c)for(j=s;j!==null;)i=j,l=i.child,i.tag===22&&i.memoizedState!==null?mc(s):l!==null?(l.return=i,j=l):mc(s);for(;a!==null;)j=a,Zf(a),a=a.sibling;j=s,ta=o,Me=c}fc(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,j=a):fc(e)}}function fc(e){for(;j!==null;){var t=j;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||ri(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Yu(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yu(t,i,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ps(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Me||t.flags&512&&zo(t)}catch(m){de(t,t.return,m)}}if(t===e){j=null;break}if(n=t.sibling,n!==null){n.return=t.return,j=n;break}j=t.return}}function hc(e){for(;j!==null;){var t=j;if(t===e){j=null;break}var n=t.sibling;if(n!==null){n.return=t.return,j=n;break}j=t.return}}function mc(e){for(;j!==null;){var t=j;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ri(4,t)}catch(l){de(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){de(t,s,l)}}var a=t.return;try{zo(t)}catch(l){de(t,a,l)}break;case 5:var i=t.return;try{zo(t)}catch(l){de(t,i,l)}}}catch(l){de(t,t.return,l)}if(t===e){j=null;break}var o=t.sibling;if(o!==null){o.return=t.return,j=o;break}j=t.return}}var hg=Math.ceil,Ua=Wt.ReactCurrentDispatcher,Kl=Wt.ReactCurrentOwner,lt=Wt.ReactCurrentBatchConfig,J=0,Ce=null,ve=null,Te=0,Xe=0,fr=wn(0),xe=0,Ps=null,Un=0,si=0,Gl=0,as=null,qe=null,Ql=0,Pr=1/0,$t=null,Fa=!1,Ho=null,dn=null,na=!1,nn=null,za=0,is=0,qo=null,va=-1,ya=0;function Fe(){return J&6?pe():va!==-1?va:va=pe()}function fn(e){return e.mode&1?J&2&&Te!==0?Te&-Te:Yp.transition!==null?(ya===0&&(ya=Md()),ya):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Wd(e.type)),e):1}function wt(e,t,n,r){if(50<is)throw is=0,qo=null,Error(C(185));Rs(e,n,r),(!(J&2)||e!==Ce)&&(e===Ce&&(!(J&2)&&(si|=n),xe===4&&Zt(e,Te)),Ye(e,r),n===1&&J===0&&!(t.mode&1)&&(Pr=pe()+500,ei&&kn()))}function Ye(e,t){var n=e.callbackNode;Ym(e,t);var r=xa(e,e===Ce?Te:0);if(r===0)n!==null&&Eu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Eu(n),t===1)e.tag===0?Qp(pc.bind(null,e)):uf(pc.bind(null,e)),qp(function(){!(J&6)&&kn()}),n=null;else{switch(Id(r)){case 1:n=_l;break;case 4:n=Ld;break;case 16:n=Ea;break;case 536870912:n=Ad;break;default:n=Ea}n=oh(n,eh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function eh(e,t){if(va=-1,ya=0,J&6)throw Error(C(327));var n=e.callbackNode;if(yr()&&e.callbackNode!==n)return null;var r=xa(e,e===Ce?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ba(e,r);else{t=r;var s=J;J|=2;var a=nh();(Ce!==e||Te!==t)&&($t=null,Pr=pe()+500,Ln(e,t));do try{gg();break}catch(o){th(e,o)}while(!0);Ll(),Ua.current=a,J=s,ve!==null?t=0:(Ce=null,Te=0,t=xe)}if(t!==0){if(t===2&&(s=yo(e),s!==0&&(r=s,t=Vo(e,s))),t===1)throw n=Ps,Ln(e,0),Zt(e,r),Ye(e,pe()),n;if(t===6)Zt(e,r);else{if(s=e.current.alternate,!(r&30)&&!mg(s)&&(t=Ba(e,r),t===2&&(a=yo(e),a!==0&&(r=a,t=Vo(e,a))),t===1))throw n=Ps,Ln(e,0),Zt(e,r),Ye(e,pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Pn(e,qe,$t);break;case 3:if(Zt(e,r),(r&130023424)===r&&(t=Ql+500-pe(),10<t)){if(xa(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Po(Pn.bind(null,e,qe,$t),t);break}Pn(e,qe,$t);break;case 4:if(Zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-yt(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hg(r/1960))-r,10<r){e.timeoutHandle=Po(Pn.bind(null,e,qe,$t),r);break}Pn(e,qe,$t);break;case 5:Pn(e,qe,$t);break;default:throw Error(C(329))}}}return Ye(e,pe()),e.callbackNode===n?eh.bind(null,e):null}function Vo(e,t){var n=as;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Ba(e,t),e!==2&&(t=qe,qe=n,t!==null&&Ko(t)),e}function Ko(e){qe===null?qe=e:qe.push.apply(qe,e)}function mg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!kt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zt(e,t){for(t&=~Gl,t&=~si,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yt(t),r=1<<n;e[n]=-1,t&=~r}}function pc(e){if(J&6)throw Error(C(327));yr();var t=xa(e,0);if(!(t&1))return Ye(e,pe()),null;var n=Ba(e,t);if(e.tag!==0&&n===2){var r=yo(e);r!==0&&(t=r,n=Vo(e,r))}if(n===1)throw n=Ps,Ln(e,0),Zt(e,t),Ye(e,pe()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,qe,$t),Ye(e,pe()),null}function Yl(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Pr=pe()+500,ei&&kn())}}function Fn(e){nn!==null&&nn.tag===0&&!(J&6)&&yr();var t=J;J|=1;var n=lt.transition,r=ee;try{if(lt.transition=null,ee=1,e)return e()}finally{ee=r,lt.transition=n,J=t,!(J&6)&&kn()}}function Jl(){Xe=fr.current,se(fr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hp(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(jl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ta();break;case 3:xr(),se(Ge),se(Ie),Fl();break;case 5:Ul(r);break;case 4:xr();break;case 13:se(ie);break;case 19:se(ie);break;case 10:Al(r.type._context);break;case 22:case 23:Jl()}n=n.return}if(Ce=e,ve=e=hn(e.current,null),Te=Xe=t,xe=0,Ps=null,Gl=si=Un=0,qe=as=null,Rn!==null){for(t=0;t<Rn.length;t++)if(n=Rn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}Rn=null}return e}function th(e,t){do{var n=ve;try{if(Ll(),ma.current=Da,Ia){for(var r=oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ia=!1}if(Dn=0,Pe=Ee=oe=null,rs=!1,Es=0,Kl.current=null,n===null||n.return===null){xe=1,Ps=t,ve=null;break}e:{var a=e,i=n.return,o=n,l=t;if(t=Te,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=nc(i);if(v!==null){v.flags&=-257,rc(v,i,o,a,t),v.mode&1&&tc(a,c,t),t=v,l=c;var w=t.updateQueue;if(w===null){var _=new Set;_.add(l),t.updateQueue=_}else w.add(l);break e}else{if(!(t&1)){tc(a,c,t),Xl();break e}l=Error(C(426))}}else if(ae&&o.mode&1){var b=nc(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),rc(b,i,o,a,t),Rl(Sr(l,o));break e}}a=l=Sr(l,o),xe!==4&&(xe=2),as===null?as=[a]:as.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Df(a,l,t);Qu(a,g);break e;case 1:o=l;var h=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(dn===null||!dn.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=Uf(a,o,t);Qu(a,k);break e}}a=a.return}while(a!==null)}sh(n)}catch(E){t=E,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function nh(){var e=Ua.current;return Ua.current=Da,e===null?Da:e}function Xl(){(xe===0||xe===3||xe===2)&&(xe=4),Ce===null||!(Un&268435455)&&!(si&268435455)||Zt(Ce,Te)}function Ba(e,t){var n=J;J|=2;var r=nh();(Ce!==e||Te!==t)&&($t=null,Ln(e,t));do try{pg();break}catch(s){th(e,s)}while(!0);if(Ll(),J=n,Ua.current=r,ve!==null)throw Error(C(261));return Ce=null,Te=0,xe}function pg(){for(;ve!==null;)rh(ve)}function gg(){for(;ve!==null&&!zm();)rh(ve)}function rh(e){var t=ih(e.alternate,e,Xe);e.memoizedProps=e.pendingProps,t===null?sh(e):ve=t,Kl.current=null}function sh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ug(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,ve=null;return}}else if(n=lg(n,t,Xe),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);xe===0&&(xe=5)}function Pn(e,t,n){var r=ee,s=lt.transition;try{lt.transition=null,ee=1,vg(e,t,n,r)}finally{lt.transition=s,ee=r}return null}function vg(e,t,n,r){do yr();while(nn!==null);if(J&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Jm(e,a),e===Ce&&(ve=Ce=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||na||(na=!0,oh(Ea,function(){return yr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=lt.transition,lt.transition=null;var i=ee;ee=1;var o=J;J|=4,Kl.current=null,dg(e,n),Xf(n,e),Ip(xo),Sa=!!Eo,xo=Eo=null,e.current=n,fg(n),Bm(),J=o,ee=i,lt.transition=a}else e.current=n;if(na&&(na=!1,nn=e,za=s),a=e.pendingLanes,a===0&&(dn=null),qm(n.stateNode),Ye(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fa)throw Fa=!1,e=Ho,Ho=null,e;return za&1&&e.tag!==0&&yr(),a=e.pendingLanes,a&1?e===qo?is++:(is=0,qo=e):is=0,kn(),null}function yr(){if(nn!==null){var e=Id(za),t=lt.transition,n=ee;try{if(lt.transition=null,ee=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,za=0,J&6)throw Error(C(331));var s=J;for(J|=4,j=e.current;j!==null;){var a=j,i=a.child;if(j.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(j=c;j!==null;){var d=j;switch(d.tag){case 0:case 11:case 15:ss(8,d,a)}var f=d.child;if(f!==null)f.return=d,j=f;else for(;j!==null;){d=j;var m=d.sibling,v=d.return;if(Qf(d),d===c){j=null;break}if(m!==null){m.return=v,j=m;break}j=v}}}var w=a.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}j=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,j=i;else e:for(;j!==null;){if(a=j,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ss(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,j=g;break e}j=a.return}}var h=e.current;for(j=h;j!==null;){i=j;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,j=p;else e:for(i=h;j!==null;){if(o=j,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ri(9,o)}}catch(E){de(o,o.return,E)}if(o===i){j=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,j=k;break e}j=o.return}}if(J=s,kn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Qa,e)}catch{}r=!0}return r}finally{ee=n,lt.transition=t}}return!1}function gc(e,t,n){t=Sr(n,t),t=Df(e,t,1),e=cn(e,t,1),t=Fe(),e!==null&&(Rs(e,1,t),Ye(e,t))}function de(e,t,n){if(e.tag===3)gc(e,e,n);else for(;t!==null;){if(t.tag===3){gc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dn===null||!dn.has(r))){e=Sr(n,e),e=Uf(t,e,1),t=cn(t,e,1),e=Fe(),t!==null&&(Rs(t,1,e),Ye(t,e));break}}t=t.return}}function yg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,Ce===e&&(Te&n)===n&&(xe===4||xe===3&&(Te&130023424)===Te&&500>pe()-Ql?Ln(e,0):Gl|=n),Ye(e,t)}function ah(e,t){t===0&&(e.mode&1?(t=Vs,Vs<<=1,!(Vs&130023424)&&(Vs=4194304)):t=1);var n=Fe();e=zt(e,t),e!==null&&(Rs(e,t,n),Ye(e,n))}function wg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ah(e,n)}function kg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),ah(e,n)}var ih;ih=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,og(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,ae&&t.flags&1048576&&cf(t,Ra,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ga(e,t),e=t.pendingProps;var s=_r(t,Ie.current);vr(t,n),s=Bl(null,t,r,e,s,n);var a=Wl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qe(r)?(a=!0,Oa(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Il(t),s.updater=ni,t.stateNode=s,s._reactInternals=t,$o(t,r,e,n),t=Mo(null,t,r,!0,a,n)):(t.tag=0,ae&&a&&Ol(t),Ue(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ga(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=bg(r),e=mt(r,e),s){case 0:t=Ao(null,t,r,e,n);break e;case 1:t=ic(null,t,r,e,n);break e;case 11:t=sc(null,t,r,e,n);break e;case 14:t=ac(null,t,r,mt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:mt(r,s),Ao(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:mt(r,s),ic(e,t,r,s,n);case 3:e:{if(Wf(t),e===null)throw Error(C(387));r=t.pendingProps,a=t.memoizedState,s=a.element,gf(e,t),Aa(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Sr(Error(C(423)),t),t=oc(e,t,r,n,s);break e}else if(r!==s){s=Sr(Error(C(424)),t),t=oc(e,t,r,n,s);break e}else for(Ze=un(t.stateNode.containerInfo.firstChild),et=t,ae=!0,vt=null,n=mf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(br(),r===s){t=Bt(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return vf(t),e===null&&Oo(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,So(r,s)?i=null:a!==null&&So(r,a)&&(t.flags|=32),Bf(e,t),Ue(e,t,i,n),t.child;case 6:return e===null&&Oo(t),null;case 13:return Hf(e,t,n);case 4:return Dl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Er(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:mt(r,s),sc(e,t,r,s,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,ne($a,r._currentValue),r._currentValue=i,a!==null)if(kt(a.value,i)){if(a.children===s.children&&!Ge.current){t=Bt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Dt(-1,n&-n),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),jo(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(C(341));i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),jo(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ue(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,vr(t,n),s=ct(s),r=r(s),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,s=mt(r,t.pendingProps),s=mt(r.type,s),ac(e,t,r,s,n);case 15:return Ff(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:mt(r,s),ga(e,t),t.tag=1,Qe(r)?(e=!0,Oa(t)):e=!1,vr(t,n),If(t,r,s),$o(t,r,s,n),Mo(null,t,r,!0,e,n);case 19:return qf(e,t,n);case 22:return zf(e,t,n)}throw Error(C(156,t.tag))};function oh(e,t){return $d(e,t)}function _g(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(e,t,n,r){return new _g(e,t,n,r)}function Zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bg(e){if(typeof e=="function")return Zl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yl)return 11;if(e===wl)return 14}return 2}function hn(e,t){var n=e.alternate;return n===null?(n=ot(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wa(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Zl(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case nr:return An(n.children,s,a,t);case vl:i=8,s|=8;break;case no:return e=ot(12,n,t,s|2),e.elementType=no,e.lanes=a,e;case ro:return e=ot(13,n,t,s),e.elementType=ro,e.lanes=a,e;case so:return e=ot(19,n,t,s),e.elementType=so,e.lanes=a,e;case gd:return ai(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case md:i=10;break e;case pd:i=9;break e;case yl:i=11;break e;case wl:i=14;break e;case Yt:i=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=ot(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function An(e,t,n,r){return e=ot(7,e,r,t),e.lanes=n,e}function ai(e,t,n,r){return e=ot(22,e,r,t),e.elementType=gd,e.lanes=n,e.stateNode={isHidden:!1},e}function Wi(e,t,n){return e=ot(6,e,null,t),e.lanes=n,e}function Hi(e,t,n){return t=ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Eg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function eu(e,t,n,r,s,a,i,o,l){return e=new Eg(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ot(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(a),e}function xg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function lh(e){if(!e)return gn;e=e._reactInternals;e:{if(Bn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Qe(n))return lf(e,n,t)}return t}function uh(e,t,n,r,s,a,i,o,l){return e=eu(n,r,!0,e,s,a,i,o,l),e.context=lh(null),n=e.current,r=Fe(),s=fn(n),a=Dt(r,s),a.callback=t??null,cn(n,a,s),e.current.lanes=s,Rs(e,s,r),Ye(e,r),e}function ii(e,t,n,r){var s=t.current,a=Fe(),i=fn(s);return n=lh(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cn(s,t,i),e!==null&&(wt(e,s,i,a),ha(e,s,i)),i}function Wa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tu(e,t){vc(e,t),(e=e.alternate)&&vc(e,t)}function Sg(){return null}var ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}oi.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));ii(e,t,null,null)};oi.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fn(function(){ii(null,e,null,null)}),t[Ft]=null}};function oi(e){this._internalRoot=e}oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&Bd(e)}};function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yc(){}function Pg(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var c=Wa(i);a.call(c)}}var i=uh(t,r,e,0,null,!1,!1,"",yc);return e._reactRootContainer=i,e[Ft]=i.current,ys(e.nodeType===8?e.parentNode:e),Fn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=Wa(l);o.call(c)}}var l=eu(e,0,!1,null,null,!1,!1,"",yc);return e._reactRootContainer=l,e[Ft]=l.current,ys(e.nodeType===8?e.parentNode:e),Fn(function(){ii(t,l,n,r)}),l}function ui(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var o=s;s=function(){var l=Wa(i);o.call(l)}}ii(t,i,e,s)}else i=Pg(n,t,e,s,r);return Wa(i)}Dd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Qr(t.pendingLanes);n!==0&&(bl(t,n|1),Ye(t,pe()),!(J&6)&&(Pr=pe()+500,kn()))}break;case 13:Fn(function(){var r=zt(e,1);if(r!==null){var s=Fe();wt(r,e,1,s)}}),tu(e,1)}};El=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Fe();wt(t,e,134217728,n)}tu(e,134217728)}};Ud=function(e){if(e.tag===13){var t=fn(e),n=zt(e,t);if(n!==null){var r=Fe();wt(n,e,t,r)}tu(e,t)}};Fd=function(){return ee};zd=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};po=function(e,t,n){switch(t){case"input":if(oo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Za(r);if(!s)throw Error(C(90));yd(r),oo(r,s)}}}break;case"textarea":kd(e,n);break;case"select":t=n.value,t!=null&&hr(e,!!n.multiple,t,!1)}};Cd=Yl;Nd=Fn;var Cg={usingClientEntryPoint:!1,Events:[Ls,ir,Za,Sd,Pd,Yl]},qr={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ng={bundleType:qr.bundleType,version:qr.version,rendererPackageName:qr.rendererPackageName,rendererConfig:qr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jd(e),e===null?null:e.stateNode},findFiberByHostInstance:qr.findFiberByHostInstance||Sg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{Qa=ra.inject(Ng),Tt=ra}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cg;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ru(t))throw Error(C(200));return xg(e,t,null,n)};nt.createRoot=function(e,t){if(!ru(e))throw Error(C(299));var n=!1,r="",s=ch;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=eu(e,1,!1,null,null,n,!1,r,s),e[Ft]=t.current,ys(e.nodeType===8?e.parentNode:e),new nu(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=jd(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return Fn(e)};nt.hydrate=function(e,t,n){if(!li(t))throw Error(C(200));return ui(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!ru(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=ch;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=uh(t,null,e,1,n??null,s,!1,a,i),e[Ft]=t.current,ys(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new oi(t)};nt.render=function(e,t,n){if(!li(t))throw Error(C(200));return ui(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!li(e))throw Error(C(40));return e._reactRootContainer?(Fn(function(){ui(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};nt.unstable_batchedUpdates=Yl;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!li(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return ui(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function dh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dh)}catch(e){console.error(e)}}dh(),cd.exports=nt;var Tg=cd.exports,wc=Tg;eo.createRoot=wc.createRoot,eo.hydrateRoot=wc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cs.apply(this,arguments)}var rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rn||(rn={}));const kc="popstate";function Og(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:i,hash:o}=r.location;return Go("",{pathname:a,search:i,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ha(s)}return Rg(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jg(){return Math.random().toString(36).substr(2,8)}function _c(e,t){return{usr:e.state,key:e.key,idx:t}}function Go(e,t,n,r){return n===void 0&&(n=null),Cs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rr(t):t,{state:n,key:t&&t.key||r||jg()})}function Ha(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Rr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Rg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o=rn.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(Cs({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function f(){o=rn.Pop;let b=d(),g=b==null?null:b-c;c=b,l&&l({action:o,location:_.location,delta:g})}function m(b,g){o=rn.Push;let h=Go(_.location,b,g);c=d()+1;let p=_c(h,c),k=_.createHref(h);try{i.pushState(p,"",k)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;s.location.assign(k)}a&&l&&l({action:o,location:_.location,delta:1})}function v(b,g){o=rn.Replace;let h=Go(_.location,b,g);c=d();let p=_c(h,c),k=_.createHref(h);i.replaceState(p,"",k),a&&l&&l({action:o,location:_.location,delta:0})}function w(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof b=="string"?b:Ha(b);return h=h.replace(/ $/,"%20"),fe(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let _={get action(){return o},get location(){return e(s,i)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(kc,f),l=b,()=>{s.removeEventListener(kc,f),l=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(b){return i.go(b)}};return _}var bc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bc||(bc={}));function $g(e,t,n){return n===void 0&&(n="/"),Lg(e,t,n)}function Lg(e,t,n,r){let s=typeof t=="string"?Rr(t):t,a=Cr(s.pathname||"/",n);if(a==null)return null;let i=hh(e);Ag(i);let o=null;for(let l=0;o==null&&l<i.length;++l){let c=Vg(a);o=Hg(i[l],c)}return o}function hh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,i,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};l.relativePath.startsWith("/")&&(fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=mn([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(fe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hh(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:Bg(c,a.index),routesMeta:d})};return e.forEach((a,i)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,i);else for(let l of mh(a.path))s(a,i,l)}),t}function mh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=mh(r.join("/")),o=[];return o.push(...i.map(l=>l===""?a:[a,l].join("/"))),s&&o.push(...i),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Ag(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Mg=/^:[\w-]+$/,Ig=3,Dg=2,Ug=1,Fg=10,zg=-2,Ec=e=>e==="*";function Bg(e,t){let n=e.split("/"),r=n.length;return n.some(Ec)&&(r+=zg),t&&(r+=Dg),n.filter(s=>!Ec(s)).reduce((s,a)=>s+(Mg.test(a)?Ig:a===""?Ug:Fg),r)}function Wg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Hg(e,t,n){let{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Qo({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:mn([a,f.pathname]),pathnameBase:Yg(mn([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=mn([a,f.pathnameBase]))}return i}function Qo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let _=o[f]||"";i=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const w=o[f];return v&&!w?c[m]=void 0:c[m]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:i,pattern:e}}function qg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),fh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Vg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Cr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Kg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Rr(e):e;return{pathname:n?n.startsWith("/")?n:Gg(n,t):t,search:Jg(r),hash:Xg(s)}}function Gg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function qi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ph(e,t){let n=Qg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gh(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Rr(e):(s=Cs({},e),fe(!s.pathname||!s.pathname.includes("?"),qi("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),qi("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),qi("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,o;if(i==null)o=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}o=f>=0?t[f]:"/"}let l=Kg(s,o),c=i&&i!=="/"&&i.endsWith("/"),d=(a||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const mn=e=>e.join("/").replace(/\/\/+/g,"/"),Yg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vh=["post","put","patch","delete"];new Set(vh);const ev=["get",...vh];new Set(ev);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ns.apply(this,arguments)}const ci=y.createContext(null),yh=y.createContext(null),_n=y.createContext(null),di=y.createContext(null),Ht=y.createContext({outlet:null,matches:[],isDataRoute:!1}),wh=y.createContext(null);function tv(e,t){let{relative:n}=t===void 0?{}:t;Ms()||fe(!1);let{basename:r,navigator:s}=y.useContext(_n),{hash:a,pathname:i,search:o}=fi(e,{relative:n}),l=i;return r!=="/"&&(l=i==="/"?r:mn([r,i])),s.createHref({pathname:l,search:o,hash:a})}function Ms(){return y.useContext(di)!=null}function $r(){return Ms()||fe(!1),y.useContext(di).location}function kh(e){y.useContext(_n).static||y.useLayoutEffect(e)}function Lr(){let{isDataRoute:e}=y.useContext(Ht);return e?vv():nv()}function nv(){Ms()||fe(!1);let e=y.useContext(ci),{basename:t,future:n,navigator:r}=y.useContext(_n),{matches:s}=y.useContext(Ht),{pathname:a}=$r(),i=JSON.stringify(ph(s,n.v7_relativeSplatPath)),o=y.useRef(!1);return kh(()=>{o.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=gh(c,JSON.parse(i),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:mn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,a,e])}const rv=y.createContext(null);function sv(e){let t=y.useContext(Ht).outlet;return t&&y.createElement(rv.Provider,{value:e},t)}function av(){let{matches:e}=y.useContext(Ht),t=e[e.length-1];return t?t.params:{}}function fi(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=y.useContext(_n),{matches:s}=y.useContext(Ht),{pathname:a}=$r(),i=JSON.stringify(ph(s,r.v7_relativeSplatPath));return y.useMemo(()=>gh(e,JSON.parse(i),a,n==="path"),[e,i,a,n])}function iv(e,t){return ov(e,t)}function ov(e,t,n,r){Ms()||fe(!1);let{navigator:s}=y.useContext(_n),{matches:a}=y.useContext(Ht),i=a[a.length-1],o=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=$r(),d;if(t){var f;let b=typeof t=="string"?Rr(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||fe(!1),d=b}else d=c;let m=d.pathname||"/",v=m;if(l!=="/"){let b=l.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=$g(e,{pathname:v}),_=fv(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:mn([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:mn([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,r);return t&&_?y.createElement(di.Provider,{value:{location:Ns({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:rn.Pop}},_):_}function lv(){let e=gv(),t=Zg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:s},n):null,null)}const uv=y.createElement(lv,null);class cv extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement(Ht.Provider,{value:this.props.routeContext},y.createElement(wh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dv(e){let{routeContext:t,match:n,children:r}=e,s=y.useContext(ci);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(Ht.Provider,{value:t},r)}function fv(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||fe(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:v}=n,w=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let v,w=!1,_=null,b=null;n&&(v=o&&f.route.id?o[f.route.id]:void 0,_=f.route.errorElement||uv,l&&(c<0&&m===0?(yv("route-fallback"),w=!0,b=null):c===m&&(w=!0,b=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,m+1)),h=()=>{let p;return v?p=_:w?p=b:f.route.Component?p=y.createElement(f.route.Component,null):f.route.element?p=f.route.element:p=d,y.createElement(dv,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:p})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(cv,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var _h=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_h||{}),bh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bh||{});function hv(e){let t=y.useContext(ci);return t||fe(!1),t}function mv(e){let t=y.useContext(yh);return t||fe(!1),t}function pv(e){let t=y.useContext(Ht);return t||fe(!1),t}function Eh(e){let t=pv(),n=t.matches[t.matches.length-1];return n.route.id||fe(!1),n.route.id}function gv(){var e;let t=y.useContext(wh),n=mv(),r=Eh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function vv(){let{router:e}=hv(_h.UseNavigateStable),t=Eh(bh.UseNavigateStable),n=y.useRef(!1);return kh(()=>{n.current=!0}),y.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ns({fromRouteId:t},a)))},[e,t])}const xc={};function yv(e,t,n){xc[e]||(xc[e]=!0)}function wv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kv(e){return sv(e.context)}function Cn(e){fe(!1)}function _v(e){let{basename:t="/",children:n=null,location:r,navigationType:s=rn.Pop,navigator:a,static:i=!1,future:o}=e;Ms()&&fe(!1);let l=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:a,static:i,future:Ns({v7_relativeSplatPath:!1},o)}),[l,o,a,i]);typeof r=="string"&&(r=Rr(r));let{pathname:d="/",search:f="",hash:m="",state:v=null,key:w="default"}=r,_=y.useMemo(()=>{let b=Cr(d,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:v,key:w},navigationType:s}},[l,d,f,m,v,w,s]);return _==null?null:y.createElement(_n.Provider,{value:c},y.createElement(di.Provider,{children:n,value:_}))}function bv(e){let{children:t,location:n}=e;return iv(Yo(t),n)}new Promise(()=>{});function Yo(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let a=[...t,s];if(r.type===y.Fragment){n.push.apply(n,Yo(r.props.children,a));return}r.type!==Cn&&fe(!1),!r.props.index||!r.props.children||fe(!1);let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Yo(r.props.children,a)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qa.apply(this,arguments)}function xh(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Ev(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xv(e,t){return e.button===0&&(!t||t==="_self")&&!Ev(e)}function Jo(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Sv(e,t){let n=Jo(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}const Pv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Cv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Nv="6";try{window.__reactRouterVersion=Nv}catch{}const Tv=y.createContext({isTransitioning:!1}),Ov="startTransition",Sc=xm[Ov];function jv(e){let{basename:t,children:n,future:r,window:s}=e,a=y.useRef();a.current==null&&(a.current=Og({window:s,v5Compat:!0}));let i=a.current,[o,l]=y.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=y.useCallback(f=>{c&&Sc?Sc(()=>l(f)):l(f)},[l,c]);return y.useLayoutEffect(()=>i.listen(d),[i,d]),y.useEffect(()=>wv(r),[r]),y.createElement(_v,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:r})}const Rv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Je=y.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:i,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,m=xh(t,Pv),{basename:v}=y.useContext(_n),w,_=!1;if(typeof c=="string"&&$v.test(c)&&(w=c,Rv))try{let p=new URL(window.location.href),k=c.startsWith("//")?new URL(p.protocol+c):new URL(c),E=Cr(k.pathname,v);k.origin===p.origin&&E!=null?c=E+k.search+k.hash:_=!0}catch{}let b=tv(c,{relative:s}),g=Av(c,{replace:i,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:f});function h(p){r&&r(p),p.defaultPrevented||g(p)}return y.createElement("a",qa({},m,{href:w||b,onClick:_||a?r:h,ref:n,target:l}))}),sn=y.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:c,children:d}=t,f=xh(t,Cv),m=fi(l,{relative:f.relative}),v=$r(),w=y.useContext(yh),{navigator:_,basename:b}=y.useContext(_n),g=w!=null&&Mv(m)&&c===!0,h=_.encodeLocation?_.encodeLocation(m).pathname:m.pathname,p=v.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(p=p.toLowerCase(),k=k?k.toLowerCase():null,h=h.toLowerCase()),k&&b&&(k=Cr(k,b)||k);const E=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let x=p===h||!i&&p.startsWith(h)&&p.charAt(E)==="/",S=k!=null&&(k===h||!i&&k.startsWith(h)&&k.charAt(h.length)==="/"),T={isActive:x,isPending:S,isTransitioning:g},L=x?r:void 0,O;typeof a=="function"?O=a(T):O=[a,x?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(T):o;return y.createElement(Je,qa({},f,{"aria-current":L,className:O,ref:n,style:A,to:l,viewTransition:c}),typeof d=="function"?d(T):d)});var Xo;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xo||(Xo={}));var Pc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pc||(Pc={}));function Lv(e){let t=y.useContext(ci);return t||fe(!1),t}function Av(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}=t===void 0?{}:t,l=Lr(),c=$r(),d=fi(e,{relative:i});return y.useCallback(f=>{if(xv(f,n)){f.preventDefault();let m=r!==void 0?r:Ha(c)===Ha(d);l(e,{replace:m,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,s,n,e,a,i,o])}function Sh(e){let t=y.useRef(Jo(e)),n=y.useRef(!1),r=$r(),s=y.useMemo(()=>Sv(r.search,n.current?null:t.current),[r.search]),a=Lr(),i=y.useCallback((o,l)=>{const c=Jo(typeof o=="function"?o(s):o);n.current=!0,a("?"+c,l)},[a,s]);return[s,i]}function Mv(e,t){t===void 0&&(t={});let n=y.useContext(Tv);n==null&&fe(!1);let{basename:r}=Lv(Xo.useViewTransitionState),s=fi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Cr(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Cr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qo(s.pathname,i)!=null||Qo(s.pathname,a)!=null}const Iv="modulepreload",Dv=function(e){return"/"+e},Cc={},Is=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Dv(l),l in Cc)return;Cc[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Iv,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return s.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},Uv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Is(async()=>{const{default:r}=await Promise.resolve().then(()=>Ar);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class su extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Fv extends su{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nc extends su{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tc extends su{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zo||(Zo={}));var zv=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};class Bv{constructor(t,{headers:n={},customFetch:r,region:s=Zo.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Uv(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return zv(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=n;let o={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(o["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(o["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(_=>{throw new Fv(_)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new Nc(f);if(!f.ok)throw new Tc(f);let v=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield f.json():v==="application/octet-stream"?w=yield f.blob():v==="text/event-stream"?w=f:v==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Tc||s instanceof Nc?s.context:void 0}}})}}var Ve={},au={},hi={},Ds={},mi={},pi={},Wv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nr=Wv();const Hv=Nr.fetch,Ph=Nr.fetch.bind(Nr),Ch=Nr.Headers,qv=Nr.Request,Vv=Nr.Response,Ar=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ch,Request:qv,Response:Vv,default:Ph,fetch:Hv},Symbol.toStringTag,{value:"Module"})),Kv=lm(Ar);var gi={};Object.defineProperty(gi,"__esModule",{value:!0});let Gv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gi.default=Gv;var Nh=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pi,"__esModule",{value:!0});const Qv=Nh(Kv),Yv=Nh(gi);let Jv=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Qv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,o,l,c;let d=null,f=null,m=null,v=a.status,w=a.statusText;if(a.ok){if(this.method!=="HEAD"){const h=await a.text();h===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=h:f=JSON.parse(h))}const b=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,v=406,w="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await a.text();try{d=JSON.parse(b),Array.isArray(d)&&a.status===404&&(f=[],d=null,v=200,w="OK")}catch{a.status===404&&b===""?(v=204,w="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&this.shouldThrowOnError)throw new Yv.default(d)}return{error:d,data:f,count:m,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,o,l;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(o=a==null?void 0:a.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=a==null?void 0:a.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};pi.default=Jv;var Xv=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mi,"__esModule",{value:!0});const Zv=Xv(pi);let e0=class extends Zv.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var o;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};mi.default=e0;var t0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ds,"__esModule",{value:!0});const n0=t0(mi);let r0=class extends n0.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ds.default=r0;var s0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hi,"__esModule",{value:!0});const Vr=s0(Ds);let a0=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(o=>/\s/.test(o)&&!a?"":(o==='"'&&(a=!a),o)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new Vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Vr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Vr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};hi.default=a0;var Th=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(au,"__esModule",{value:!0});const i0=Th(hi),o0=Th(Ds);let l0=class Oh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new i0.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Oh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:a}={}){var i;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{l.searchParams.append(f,m)})):(o="POST",c=n);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new o0.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};au.default=l0;var Mr=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const jh=Mr(au);Ve.PostgrestClient=jh.default;const Rh=Mr(hi);Ve.PostgrestQueryBuilder=Rh.default;const $h=Mr(Ds);Ve.PostgrestFilterBuilder=$h.default;const Lh=Mr(mi);Ve.PostgrestTransformBuilder=Lh.default;const Ah=Mr(pi);Ve.PostgrestBuilder=Ah.default;const Mh=Mr(gi);Ve.PostgrestError=Mh.default;var u0=Ve.default={PostgrestClient:jh.default,PostgrestQueryBuilder:Rh.default,PostgrestFilterBuilder:$h.default,PostgrestTransformBuilder:Lh.default,PostgrestBuilder:Ah.default,PostgrestError:Mh.default};const{PostgrestClient:c0,PostgrestQueryBuilder:p_,PostgrestFilterBuilder:g_,PostgrestTransformBuilder:v_,PostgrestBuilder:y_,PostgrestError:w_}=u0;class d0{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const f0="2.15.5",h0=`realtime-js/${f0}`,m0="1.0.0",el=1e4,p0=1e3,g0=100;var os;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(os||(os={}));var _e;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_e||(_e={}));var gt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(gt||(gt={}));var tl;(function(e){e.websocket="websocket"})(tl||(tl={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class v0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),a=n.getUint8(2);let i=this.HEADER_LENGTH+2;const o=r.decode(t.slice(i,i+s));i=i+s;const l=r.decode(t.slice(i,i+a));i=i+a;const c=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Ih{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(te||(te={}));const Oc=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((a,i)=>(a[i]=y0(i,e,t,s),a),{})},y0=(e,t,n,r)=>{const s=t.find(o=>o.name===e),a=s==null?void 0:s.type,i=n[e];return a&&!r.includes(a)?Dh(a,i):nl(i)},Dh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return b0(t,n)}switch(e){case te.bool:return w0(t);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return k0(t);case te.json:case te.jsonb:return _0(t);case te.timestamp:return E0(t);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return nl(t);default:return nl(t)}},nl=e=>e,w0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},k0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},b0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const i=e.slice(1,n);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(o=>Dh(t,o))}return e},E0=e=>typeof e=="string"?e.replace(" ","T"):e,Uh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Vi{constructor(t,n,r={},s=el){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var jc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(jc||(jc={}));class ls{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ls.syncState(this.state,s,a,i),this.pendingDiffs.forEach(l=>{this.state=ls.syncDiff(this.state,l,a,i)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ls.syncDiff(this.state,s,a,i),o())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const a=this.cloneDeep(t),i=this.transformState(n),o={},l={};return this.map(a,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=a[c];if(f){const m=d.map(b=>b.presence_ref),v=f.map(b=>b.presence_ref),w=d.filter(b=>v.indexOf(b.presence_ref)<0),_=f.filter(b=>m.indexOf(b.presence_ref)<0);w.length>0&&(o[c]=w),_.length>0&&(l[c]=_)}else o[c]=d}),this.syncDiff(a,{joins:o,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:a,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(a,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(v=>v.presence_ref),m=d.filter(v=>f.indexOf(v.presence_ref)<0);t[o].unshift(...m)}r(o,d,l)}),this.map(i,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,s(o,c,l),c.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rc||(Rc={}));var us;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(us||(us={}));var Lt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));class iu{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vi(this,gt.join,this.params,this.timeout),this.rejoinTimer=new Ih(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(gt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new ls(this),this.broadcastEndpointURL=Uh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[us.PRESENCE]&&this.bindings[us.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(Lt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Lt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){t==null||t(Lt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(w=_==null?void 0:_.length)!==null&&w!==void 0?w:0,g=[];for(let h=0;h<b;h++){const p=_[h],{filter:{event:k,schema:E,table:x,filter:S}}=p,T=v&&v[h];if(T&&T.event===k&&T.schema===E&&T.table===x&&T.filter===S)g.push(Object.assign(Object.assign({},p),{id:T.id}));else{this.unsubscribe(),this.state=_e.errored,t==null||t(Lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Lt.SUBSCRIBED);return}}).receive("error",v=>{this.state=_e.errored,t==null||t(Lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===_e.joined&&t===us.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,o,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(gt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Vi(this,gt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,a=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vi(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>g0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,a;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=gt;if(r&&[o,l,c,d].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,_,b;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(_=v.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(v=>v.callback(m,r)):(a=this.bindings[i])===null||a===void 0||a.filter(v=>{var w,_,b,g,h,p;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const k=v.id,E=(w=v.filter)===null||w===void 0?void 0:w.event;return k&&((_=n.ids)===null||_===void 0?void 0:_.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(h=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return k==="*"||k===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:_,table:b,commit_timestamp:g,type:h,errors:p}=w;m=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:g,eventType:h,new:{},old:{},errors:p}),this._getPayloadRecords(w))}v.callback(m,r)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),a={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&iu.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(gt.close,{},t)}_onError(t){this._on(gt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Oc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Oc(t.columns,t.old_record)),n}}const Ki=()=>{},sa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},x0=[1e3,2e3,5e3,1e4],S0=1e4,P0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class C0{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=el,this.transport=null,this.heartbeatIntervalMs=sa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ki,this.ref=0,this.reconnectTimer=null,this.logger=Ki,this.conn=null,this.sendBuffer=[],this.serializer=new v0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...i)=>Is(async()=>{const{default:o}=await Promise.resolve().then(()=>Ar);return{default:o}},void 0).then(({default:o})=>o(...i)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${tl.websocket}`,this.httpEndpoint=Uh(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:m0}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return On.Connecting;case os.open:return On.Open;case os.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===r);if(s)return s;{const a=new iu(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:s,ref:a}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(p0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},sa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:a,ref:i}=n,o=i?`(${i})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${s} ${o}`.trim(),a),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,a,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(gt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([P0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:h0};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(gt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ih(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,a,i,o,l,c,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:el,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:sa.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Ki,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>x0[f-1]||S0,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(f,m)=>m(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ou extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class N0 extends ou{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rl extends ou{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var T0=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};const Fh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Is(async()=>{const{default:r}=await Promise.resolve().then(()=>Ar);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},O0=()=>T0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Is(()=>Promise.resolve().then(()=>Ar),void 0)).Response:Response}),sl=e=>{if(Array.isArray(e))return e.map(n=>sl(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=sl(r)}),t},j0=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Wn=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};const Gi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),R0=(e,t,n)=>Wn(void 0,void 0,void 0,function*(){const r=yield O0();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new N0(Gi(s),a,i))}).catch(s=>{t(new rl(Gi(s),s))}):t(new rl(Gi(e),e))}),$0=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(j0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Us(e,t,n,r,s,a){return Wn(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,$0(t,r,s,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>R0(l,o,r))})})}function Va(e,t,n,r){return Wn(this,void 0,void 0,function*(){return Us(e,"GET",t,n,r)})}function St(e,t,n,r,s){return Wn(this,void 0,void 0,function*(){return Us(e,"POST",t,r,s,n)})}function al(e,t,n,r,s){return Wn(this,void 0,void 0,function*(){return Us(e,"PUT",t,r,s,n)})}function L0(e,t,n,r){return Wn(this,void 0,void 0,function*(){return Us(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function zh(e,t,n,r,s){return Wn(this,void 0,void 0,function*(){return Us(e,"DELETE",t,r,s,n)})}var De=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};const A0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$c={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class M0{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Fh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return De(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},$c),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",this.encodeMetadata(l)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",i.cacheControl),l&&a.append("metadata",this.encodeMetadata(l))):(a=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),f=yield(t=="PUT"?al:St)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(be(a))return{data:null,error:a};throw a}})}upload(t,n,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return De(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:$c.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield al(this.fetch,o.toString(),l,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return De(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield St(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+a.url),o=i.searchParams.get("token");if(!o)throw new ou("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}update(t,n,r){return De(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return De(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(be(s))return{data:null,error:s};throw s}})}copy(t,n,r){return De(this,void 0,void 0,function*(){try{return{data:{path:(yield St(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(be(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return De(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield St(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(be(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return De(this,void 0,void 0,function*(){try{const s=yield St(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(be(s))return{data:null,error:s};throw s}})}download(t,n){return De(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=a?`?${a}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Va(this.fetch,`${this.url}/${s}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(be(o))return{data:null,error:o};throw o}})}info(t){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Va(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}exists(t){return De(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield L0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r)&&r instanceof rl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(t){return De(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}list(t,n,r){return De(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},A0),n),{prefix:t||""});return{data:yield St(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(be(s))return{data:null,error:s};throw s}})}listV2(t,n){return De(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield St(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const I0="2.12.1",D0={"X-Client-Info":`storage-js/${I0}`};var Kn=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};class U0{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},D0),n),this.fetch=Fh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Kn(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(be(t))return{data:null,error:t};throw t}})}getBucket(t){return Kn(this,void 0,void 0,function*(){try{return{data:yield Va(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Kn(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Kn(this,void 0,void 0,function*(){try{return{data:yield al(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(be(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Kn(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Kn(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(be(n))return{data:null,error:n};throw n}})}}class F0 extends U0{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new M0(this.url,this.headers,t,this.fetch)}}const z0="2.57.4";let Jr="";typeof Deno<"u"?Jr="deno":typeof document<"u"?Jr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Jr="react-native":Jr="node";const B0={"X-Client-Info":`supabase-js-${Jr}/${z0}`},W0={headers:B0},H0={schema:"public"},q0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V0={};var K0=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};const G0=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ph:t=fetch,(...n)=>t(...n)},Q0=()=>typeof Headers>"u"?Ch:Headers,Y0=(e,t,n)=>{const r=G0(n),s=Q0();return(a,i)=>K0(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(a,Object.assign(Object.assign({},i),{headers:c}))})};var J0=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};function X0(e){return e.endsWith("/")?e:e+"/"}function Z0(e,t){var n,r;const{db:s,auth:a,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:f}=t,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>J0(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function ey(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(X0(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bh="2.71.1",Zn=30*1e3,il=3,Qi=il*Zn,ty="http://localhost:9999",ny="supabase.auth.token",ry={"X-Client-Info":`gotrue-js/${Bh}`},ol="X-Supabase-Api-Version",Wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ay=10*60*1e3;class lu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class iy extends lu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function oy(e){return W(e)&&e.name==="AuthApiError"}class Hh extends lu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class bn extends lu{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Qt extends bn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ly(e){return W(e)&&e.name==="AuthSessionMissingError"}class aa extends bn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ia extends bn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class oa extends bn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uy(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lc extends bn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ll extends bn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yi(e){return W(e)&&e.name==="AuthRetryableFetchError"}class Ac extends bn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ul extends bn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mc=` 	
\r=`.split(""),cy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Mc.length;t+=1)e[Mc[t].charCodeAt(0)]=-2;for(let t=0;t<Ka.length;t+=1)e[Ka[t].charCodeAt(0)]=t;return e})();function Ic(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ka[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ka[r]),t.queuedBits-=6}}function qh(e,t,n){const r=cy[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Dc(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{hy(i,r,n)};for(let i=0;i<e.length;i+=1)qh(e.charCodeAt(i),s,a);return t.join("")}function dy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function fy(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}dy(r,t)}}function hy(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function my(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)qh(e.charCodeAt(s),n,r);return new Uint8Array(t)}function py(e){const t=[];return fy(e,n=>t.push(n)),new Uint8Array(t)}function gy(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Ic(s,n,r)),Ic(null,n,r),t.join("")}function vy(e){return Math.round(Date.now()/1e3)+e}function yy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ht=()=>typeof window<"u"&&typeof document<"u",En={tested:!1,writable:!1},Vh=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(En.tested)return En.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),En.tested=!0,En.writable=!0}catch{En.tested=!0,En.writable=!1}return En.writable};function wy(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Kh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Is(async()=>{const{default:r}=await Promise.resolve().then(()=>Ar);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ky=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",er=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},xn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kt=async(e,t)=>{await e.removeItem(t)};class vi{constructor(){this.promise=new vi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}vi.promiseConstructor=Promise;function Ji(e){const t=e.split(".");if(t.length!==3)throw new ul("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!sy.test(t[r]))throw new ul("JWT not in base64url format");return{header:JSON.parse(Dc(t[0])),payload:JSON.parse(Dc(t[1])),signature:my(t[2]),raw:{header:t[0],payload:t[1]}}}async function _y(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function by(e,t){return new Promise((r,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){r(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function Ey(e){return("0"+e.toString(16)).substr(-2)}function xy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Ey).join("")}async function Sy(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Py(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Sy(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(e,t,n=!1){const r=xy();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await er(e,`${t}-code-verifier`,s);const a=await Py(r);return[a,r===a?"plain":"s256"]}const Cy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ny(e){const t=e.headers.get(ol);if(!t||!t.match(Cy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ty(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Oy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qn(e){if(!jy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xi(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uc(e){return JSON.parse(JSON.stringify(e))}var Ry=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Nn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$y=[502,503,504];async function Fc(e){var t;if(!ky(e))throw new ll(Nn(e),0);if($y.includes(e.status))throw new ll(Nn(e),e.status);let n;try{n=await e.json()}catch(a){throw new Hh(Nn(a),a)}let r;const s=Ny(e);if(s&&s.getTime()>=Wh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ac(Nn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Qt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Ac(Nn(n),e.status,n.weak_password.reasons);throw new iy(Nn(n),e.status||500,r)}const Ly=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function V(e,t,n,r){var s;const a=Object.assign({},r==null?void 0:r.headers);a[ol]||(a[ol]=Wh["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Ay(e,t,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Ay(e,t,n,r,s,a){const i=Ly(t,r,s,a);let o;try{o=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new ll(Nn(l),0)}if(o.ok||await Fc(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Fc(l)}}function Rt(e){var t;let n=null;Uy(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vy(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function zc(e){const t=Rt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function en(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function My(e){return{data:e,error:null}}function Iy(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a}=e,i=Ry(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:a},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function Dy(e){return e}function Uy(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zi=["global","local","others"];var Fy=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class zy{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Kh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Zi[0]){if(Zi.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zi.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:en})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Fy(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Iy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(W(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:en})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,a,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Dy});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(W(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Qn(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:en})}catch(n){if(W(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qn(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:en})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Qn(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:en})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Qn(t.userId);try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(W(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qn(t.userId),Qn(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}}function Bc(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function By(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yn={debug:!!(globalThis&&Vh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Wy extends Gh{}async function Hy(e,t,n){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Yn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}By();const qy={url:ty,storageKey:ny,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ry,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wc(e,t,n){return await n()}const Jn={};class Ts{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ts.nextInstanceID,Ts.nextInstanceID+=1,this.instanceID>0&&ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},qy),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new zy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kh(s.fetch),this.lock=s.lock||Wc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ht()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Hy:this.lock=Wc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Vh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Bc(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Jn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Jn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=wy(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ht()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),uy(a)){const l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return W(n)?{error:n}:{error:new Hh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const a=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Rt}),{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,r,s;try{let a;if("email"in t){const{email:d,password:f,options:m}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Gn(this.storage,this.storageKey)),a=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},xform:Rt})}else if("phone"in t){const{phone:d,password:f,options:m}=t;a=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Rt})}else throw new ia("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:i,options:o}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:zc})}else if("phone"in t){const{phone:a,password:i,options:o}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:zc})}else throw new ia("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new aa}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,a,i,o,l,c,d,f,m,v;let w,_;if("message"in t)w=t.message,_=t.signature;else{const{chain:b,wallet:g,statement:h,options:p}=t;let k;if(ht())if(typeof g=="object")k=g;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))k=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const E=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const x=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),h?{statement:h}:null));let S;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")S=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)S=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),_=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((f=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...p.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const x=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=x}}try{const{data:b,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:gy(_)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Rt});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new aa}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(W(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await xn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:a,error:i}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Rt});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new aa}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(W(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:a,nonce:i}=t,o=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Rt}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new aa}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,a,i;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Gn(this.storage,this.storageKey));const{error:f}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new ia("You must provide either an email or phone number.")}catch(o){if(W(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,r;try{let s,a;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Rt});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await Gn(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:My})}catch(a){if(W(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Qt;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:a}=t,{error:i}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:a}=t,{data:i,error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new ia("You must provide either an email or phone number and a type")}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Qi:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await xn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Xi()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!i&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:en}):await this._useSession(async n=>{var r,s,a;const{data:i,error:o}=n;if(o)throw o;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qt}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:en})})}catch(n){if(W(n))return ly(n)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:a}=r;if(a)throw a;if(!s.session)throw new Qt;const i=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Gn(this.storage,this.storageKey));const{data:c,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:en});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qt;const n=Date.now()/1e3;let r=n,s=!0,a=null;const{payload:i}=Ji(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(W(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:o}=n;if(o)throw o;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Qt;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ht())throw new oa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new oa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Lc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lc("No code detected.");const{data:h,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=t;if(!a||!o||!i||!c)throw new oa("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let m=d+f;l&&(m=parseInt(l));const v=m-d;v*1e3<=Zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const w=m-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:_,error:b}=await this._getUser(a);if(b)throw b;const g={provider_token:r,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:m,refresh_token:i,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(W(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{error:a};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(oy(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=yy(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:a},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Gn(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(W(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(W(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async a=>{var i,o,l,c,d;const{data:f,error:m}=a;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ht()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(W(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)throw i;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await by(async s=>(s>0&&await _y(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Rt})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Yi(a)&&Date.now()+i-r<Zn})}catch(r){if(this._debug(n,"error",r),W(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ht()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await xn(this.storage,this.storageKey);if(s&&this.userStorage){let i=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await er(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Xi()}else if(s&&!s.user&&!s.user){const i=await xn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Kt(this.storage,this.storageKey+"-user"),await er(this.storage,this.storageKey,s)):s.user=Xi()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Qi;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Qi}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Yi(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(s.access_token);!o&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vi;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new Qt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={session:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(s,"error",a),W(a)){const i={session:null,error:a};return Yi(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){a.push(l)}});if(await Promise.all(i),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await er(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=Uc(s);await er(this.storage,this.storageKey,a)}else{const s=Uc(n);await er(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zn}ms, refresh threshold is ${il} ticks`),s<=il&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,i]=await Gn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);s.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:a,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(W(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(n){if(W(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:a}=n;return a?{data:null,error:a}:await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(W(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ji(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+ay>s)return r;const{data:a,error:i}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,r=a.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:a,signature:i,raw:{header:o,payload:l}}=Ji(r);n!=null&&n.allowExpired||Ty(a.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:a,header:s,signature:i},error:null}}const d=Oy(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,py(`${o}.${l}`)))throw new ul("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}Ts.nextInstanceID=0;const Vy=Ts;class Ky extends Vy{constructor(t){super(t)}}var Gy=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(i){i(a)})}return new(n||(n=Promise))(function(a,i){function o(d){try{c(r.next(d))}catch(f){i(f)}}function l(d){try{c(r.throw(d))}catch(f){i(f)}}function c(d){d.done?a(d.value):s(d.value).then(o,l)}c((r=r.apply(e,t||[])).next())})};class Qy{constructor(t,n,r){var s,a,i;this.supabaseUrl=t,this.supabaseKey=n;const o=ey(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:H0,realtime:V0,auth:Object.assign(Object.assign({},q0),{storageKey:l}),global:W0},d=Z0(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=Y0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new c0(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new F0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Bv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Gy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c},d,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ky({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:a,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new C0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yy=(e,t,n)=>new Qy(e,t,n);function Jy(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Jy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xy="https://ibqyhadodgcneqqbbfyg.supabase.co",Zy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlicXloYWRvZGdjbmVxcWJiZnlnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc3NDQyNTUsImV4cCI6MjA3MzMyMDI1NX0.hrxUV6MPXH9Yiq-7-NOXw0s-p38sC5blpSY3iBc439w",R=Yy(Xy,Zy),Ir=()=>{const[e,t]=y.useState(void 0),[n,r]=y.useState(null),[s,a]=y.useState([]),[i,o]=y.useState(!0),l=async()=>{o(!0);const{data:{session:c}}=await R.auth.getSession();if(c!=null&&c.user){t(c.user);const{data:d}=await R.from("profiles").select("*").eq("id",c.user.id).single();r(d);const{data:f}=await R.from("follows").select("following_id").eq("follower_id",c.user.id).eq("status","accepted");a(f?f.map(m=>m.following_id):[])}else t(null),r(null),a([]);o(!1)};return y.useEffect(()=>{l();const{data:c}=R.auth.onAuthStateChange((d,f)=>{f!=null&&f.user?l():(t(null),r(null),a([]),o(!1))});return()=>{c.subscription.unsubscribe()}},[]),{currentUser:e,userProfile:n,followingIds:s,loading:i}},ew="/assets/marhayu-white.png",tw=()=>{const[e,t]=y.useState(()=>{const r=localStorage.getItem("theme");return r||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});y.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const n=()=>{t(r=>r==="dark"?"light":"dark")};return u.createElement("button",{onClick:n,type:"button",className:"text-slate-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full text-sm p-2.5"},e==="dark"?u.createElement("i",{className:"bi bi-sun-fill w-5 h-5"}):u.createElement("i",{className:"bi bi-moon-fill w-5 h-5"}))},nw=()=>{const e=Lr(),{userProfile:t}=Ir(),n=async()=>{await R.auth.signOut(),e("/auth")},r=({isActive:a})=>`flex items-center space-x-3 p-3 rounded-full transition-colors ${a?"font-bold text-black dark:text-white bg-gray-200 dark:bg-slate-800":"text-gray-500 dark:text-slate-400 hover:bg-gray-100 dark:hover:bg-slate-800"}`,s=t?`/user/${t.username}`:"/";return u.createElement("aside",{className:"hidden md:flex md:flex-col md:w-[280px] flex-shrink-0 pt-8 pr-4 h-full"},u.createElement("div",{className:"flex-1"},u.createElement("img",{src:ew,alt:"Logo Marhayu",className:"h-10 mb-8"}),u.createElement("nav",{className:"space-y-1 text-lg"},u.createElement(sn,{to:"/",className:r},u.createElement("i",{className:"bi bi-house-door text-2xl"}),u.createElement("span",null,"Beranda")),u.createElement(sn,{to:"/search",className:r},u.createElement("i",{className:"bi bi-search text-2xl"}),u.createElement("span",null,"Pencarian")),u.createElement(sn,{to:"/notifications",className:r},u.createElement("i",{className:"bi bi-bell text-2xl"}),u.createElement("span",null,"Notifikasi")),u.createElement(sn,{to:s,className:r},u.createElement("i",{className:"bi bi-person text-2xl"}),u.createElement("span",null,"Profil")))),u.createElement("div",{className:"mt-auto pb-4 flex items-center justify-between"},u.createElement("div",{className:"flex items-center space-x-4"},u.createElement("button",{onClick:n,className:"flex items-center space-x-2 px-3 py-2 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors"},u.createElement("i",{className:"bi bi-box-arrow-right text-lg"}),u.createElement("span",null,"Keluar"))),u.createElement(tw,null)))},rw=()=>{const{userProfile:e}=Ir(),t=({isActive:r})=>`flex flex-col items-center justify-center transition-colors duration-200 ${r?"text-dark dark:text-light":"text-gray-500 dark:text-slate-400"}`,n=e?`/user/${e.username}`:"/";return u.createElement("nav",{className:"md:hidden fixed bottom-0 w-full bg-light/80 backdrop-blur-sm border-t border-light-darker dark:bg-dark/80 dark:border-dark-lighter z-20"},u.createElement("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto"},u.createElement(sn,{to:"/",className:t},u.createElement("i",{className:"bi bi-house-door text-2xl"})),u.createElement(sn,{to:"/search",className:t},u.createElement("i",{className:"bi bi-search text-2xl"})),u.createElement(sn,{to:"/notifications",className:t},u.createElement("i",{className:"bi bi-bell text-2xl"})),u.createElement(sn,{to:n,className:t},u.createElement("i",{className:"bi bi-person text-2xl"}))))},sw=()=>u.createElement("div",{className:"container mx-auto max-w-4xl flex flex-row md:gap-8 h-screen"},u.createElement(nw,null),u.createElement("main",{className:"w-full min-w-0 md:border-l md:border-r border-light-darker dark:border-dark-lighter h-full overflow-y-auto"},u.createElement(kv,null)),u.createElement(rw,null)),aw=({onClose:e,onSelectStyle:t})=>{const n=["bg-gradient-to-br from-red-500 to-orange-500","bg-gradient-to-br from-blue-500 to-teal-500","bg-gradient-to-br from-purple-600 to-indigo-600","bg-gradient-to-br from-pink-500 to-rose-500","bg-gray-800"],r=[{name:"Netral",class:"font-sans"},{name:"Elegan",class:"font-serif"},{name:"Klasik",class:"font-display"}];return u.createElement("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:e},u.createElement("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm mx-4 border border-black/10 dark:border-slate-700 overflow-hidden",onClick:s=>s.stopPropagation()},u.createElement("div",{className:"flex justify-between items-center p-4 border-b border-black/10 dark:border-slate-700"},u.createElement("h2",{className:"font-bold text-lg dark:text-white"},"Gaya Teks Penuh"),u.createElement("button",{onClick:e,className:"text-2xl hover:text-gray-500 dark:text-slate-400"},"")),u.createElement("div",{className:"p-4 space-y-4"},u.createElement("div",null,u.createElement("h3",{className:"font-semibold mb-2 dark:text-slate-200"},"Warna Latar"),u.createElement("div",{className:"grid grid-cols-5 gap-2"},n.map(s=>u.createElement("button",{key:s,className:`w-10 h-10 rounded-full ${s}`,onClick:()=>t({color:s})})))),u.createElement("div",null,u.createElement("h3",{className:"font-semibold mb-2 dark:text-slate-200"},"Gaya Huruf"),u.createElement("div",{className:"grid grid-cols-3 gap-2"},r.map(s=>u.createElement("button",{key:s.class,className:`p-2 border rounded-lg dark:border-slate-600 dark:text-slate-200 ${s.class}`,onClick:()=>t({font:s.class})},s.name)))))))},iw=({currentUser:e,userProfile:t,onPostCreated:n})=>{const[r,s]=y.useState(""),[a,i]=y.useState(null),[o,l]=y.useState(null),[c,d]=y.useState(null),[f,m]=y.useState(!1),[v,w]=y.useState(300),[_,b]=y.useState(!1),[g,h]=y.useState(""),[p,k]=y.useState(["",""]),[E,x]=y.useState(!1),[S,T]=y.useState({active:!1,color:"",font:"font-sans"}),[L,O]=y.useState(""),[A,U]=y.useState([]),[q,Q]=y.useState(!1),[Se,ye]=y.useState(!1),he=y.useRef(null),N=y.useRef(null),$=y.useRef(null),M=y.useCallback(async H=>{if(!e||H.length<1){U([]);return}ye(!0);const{data:ge,error:ce}=await R.from("profiles").select("username, full_name, profile_avatar_url, is_verified").ilike("username",`${H}%`).limit(5);ce?(console.error("Gagal mencari pengguna untuk mention:",ce),U([])):U((ge||[]).filter(we=>we.username!==e.username)),ye(!1)},[e]);y.useEffect(()=>{if(q&&L){const H=setTimeout(()=>{M(L)},300);return()=>clearTimeout(H)}},[L,M,q]);const G=H=>{const ge=H.target.value;s(ge),w(300-ge.length);const ce=H.target.selectionStart,bt=ge.substring(0,ce).match(/@(\w+)$/);if(bt){const D=bt[1];O(D),Q(!0)}else q&&(Q(!1),O(""),U([]))},P=H=>{const ge=$.current.selectionStart,we=r.substring(0,ge).lastIndexOf(`@${L}`);if(we===-1)return;const bt=r.substring(0,we),D=r.substring(ge),F=`${bt}@${H} ${D}`;s(F),Q(!1),O(""),U([]);const Y=we+H.length+2;setTimeout(()=>{$.current.focus(),$.current.setSelectionRange(Y,Y)},0)};e==null||e.id;const I=()=>{T({active:!1,color:"",font:"font-sans"})},z=(H,ge)=>{const ce=H.target.files[0];ce&&(I(),b(!1),i(ce),d(ge),l(URL.createObjectURL(ce)))},B=()=>{i(null),l(null),d(null),he.current&&(he.current.value=null),N.current&&(N.current.value=null)},X=H=>{b(!1),B(),T(ge=>({active:!0,color:H.color||ge.color,font:H.font||ge.font})),x(!1)},ue=()=>{s(""),B(),b(!1),h(""),k(["",""]),I()},jt=async()=>{var D,F;if(f)return;m(!0);const H=r.trim(),ge=((D=H.match(/#(\w+)/g))==null?void 0:D.map(Y=>Y.substring(1).toLowerCase()))||[];(F=H.match(/@(\w+)/g))!=null&&F.map(Y=>Y.substring(1));let ce={user_id:e.id,content:H,hashtags:ge};if(_)ce={...ce,is_poll:!0,poll_question:g.trim(),poll_options:p.map(Y=>({option:Y.trim(),votes:0}))};else if(S.active)ce={...ce,is_full_text:!0,bg_color:S.color,font_family:S.font};else{let Y=null;if(a){const me=`${e.id}/${Date.now()}`,{error:ke}=await R.storage.from("media").upload(me,a);if(ke){console.error("Upload error:",ke),m(!1);return}const{data:Re}=R.storage.from("media").getPublicUrl(me);Y=Re.publicUrl}ce={...ce,image_url:c==="image"?Y:null,video_url:c==="video"?Y:null}}const{data:we,error:bt}=await R.from("posts").insert(ce).select().single();bt?console.error("Error creating post",bt):(ue(),n(we)),m(!1)},We=()=>f||v<0?!0:_?!g.trim()||p.some(H=>!H.trim())||p.length<2:S.active?!r.trim():!r.trim()&&!a;if(!e||!t)return u.createElement("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 min-h-[120px] animate-pulse"});const je=t.full_name?t.full_name.charAt(0).toUpperCase():"?",Hn=t.profile_avatar_url||`https://placehold.co/48x48/1A1A1A/FFFFFF?text=${je}&font=inter`;return u.createElement("div",{className:"flex p-4 border-b border-gray-200 dark:border-slate-800"},u.createElement("div",{className:"flex-shrink-0 mr-4"},u.createElement("img",{src:Hn,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover"})),u.createElement("div",{className:"flex-1"},u.createElement("div",{className:"relative"},u.createElement("textarea",{ref:$,value:r,onChange:G,className:S.active?`w-full p-8 text-lg border-none focus:ring-0 resize-none rounded-2xl text-center flex items-center justify-center text-white transition-all duration-300 ${S.color} ${S.font}`:"w-full p-2 text-lg border-none focus:ring-0 resize-none bg-transparent dark:text-slate-100 dark:placeholder-slate-500",rows:S.active?5:3,style:{color:S.active?"white":"inherit"},placeholder:"Apa yang sedang terjadi?",maxLength:"300"}),q&&u.createElement("div",{className:"absolute top-full left-0 z-10 w-full max-w-sm bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-gray-200 dark:border-slate-700 mt-1 max-h-60 overflow-y-auto dark-scrollbar-custom"},Se&&u.createElement("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-slate-400"},"Mencari pengguna..."),!Se&&A.length>0&&A.map(H=>u.createElement("div",{key:H.username,className:"flex items-center p-3 hover:bg-gray-100 dark:hover:bg-slate-700 cursor-pointer",onClick:()=>P(H.username)},u.createElement("img",{src:H.profile_avatar_url||`https://placehold.co/40x40/1A1A1A/FFFFFF?text=${H.full_name.charAt(0).toUpperCase()}&font=inter`,alt:H.username,className:"w-10 h-10 rounded-full object-cover mr-3"}),u.createElement("div",null,u.createElement("p",{className:"font-bold text-sm flex items-center"},H.full_name,H.is_verified&&u.createElement("i",{className:"bi bi-patch-check-fill text-blue-500 ml-1.5"})),u.createElement("p",{className:"text-sm text-gray-500 dark:text-slate-400"},"@",H.username)))),!Se&&A.length===0&&L.length>=1&&u.createElement("div",{className:"p-4 text-center text-sm text-gray-500 dark:text-slate-400"},"Pengguna tidak ditemukan."))),o&&!S.active&&u.createElement("div",{className:"mt-2 relative"},c==="image"?u.createElement("img",{src:o,alt:"Preview",className:"rounded-2xl max-h-80"}):u.createElement("video",{src:o,controls:!0,className:"rounded-2xl max-h-80"}),u.createElement("button",{onClick:B,className:"absolute top-2 right-2 bg-black/50 text-white rounded-full w-8 h-8 flex items-center justify-center text-xl hover:bg-black/75 transition-colors"},"")),u.createElement("div",{className:"flex items-center justify-between mt-2"},u.createElement("div",{className:"flex items-center space-x-4 text-xl text-gray-500 dark:text-slate-400"},u.createElement("input",{type:"file",ref:he,onChange:H=>z(H,"image"),accept:"image/*",hidden:!0,id:"image-upload"}),u.createElement("label",{htmlFor:"image-upload",className:"cursor-pointer hover:text-blue-500"},u.createElement("i",{className:"bi bi-image"})),u.createElement("input",{type:"file",ref:N,onChange:H=>z(H,"video"),accept:"video/*",hidden:!0,id:"video-upload"}),u.createElement("label",{htmlFor:"video-upload",className:"cursor-pointer hover:text-green-500"},u.createElement("i",{className:"bi bi-camera-video"})),u.createElement("button",{onClick:()=>x(!0),className:"cursor-pointer hover:text-purple-500"},u.createElement("i",{className:"bi bi-fonts"}))),u.createElement("div",{className:"flex items-center"},u.createElement("span",{className:`mr-4 text-sm ${v<0?"text-red-500 font-medium":"text-gray-500"}`},v),u.createElement("button",{onClick:jt,disabled:We(),className:"bg-blue-500 text-white px-6 py-2 rounded-full font-semibold hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},f?"Memposting...":"Posting"))),E&&u.createElement(aw,{onClose:()=>x(!1),onSelectStyle:X})))},Qh=6048e5,ow=864e5,Hc=Symbol.for("constructDateFrom");function vn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Hc in e?e[Hc](t):e instanceof Date?new e.constructor(t):new Date(t)}function _t(e,t){return vn(t||e,e)}let lw={};function yi(){return lw}function Os(e,t){var o,l,c,d;const n=yi(),r=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,s=_t(e,t==null?void 0:t.in),a=s.getDay(),i=(a<r?7:0)+a-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Ga(e,t){return Os(e,{...t,weekStartsOn:1})}function Yh(e,t){const n=_t(e,t==null?void 0:t.in),r=n.getFullYear(),s=vn(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Ga(s),i=vn(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Ga(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function qc(e){const t=_t(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function uw(e,...t){const n=vn.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Vc(e,t){const n=_t(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function cw(e,t,n){const[r,s]=uw(n==null?void 0:n.in,e,t),a=Vc(r),i=Vc(s),o=+a-qc(a),l=+i-qc(i);return Math.round((o-l)/ow)}function dw(e,t){const n=Yh(e,t),r=vn(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ga(r)}function fw(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hw(e){return!(!fw(e)&&typeof e!="number"||isNaN(+_t(e)))}function mw(e,t){const n=_t(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const pw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gw=(e,t,n)=>{let r;const s=pw[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wr(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const vw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ww={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kw={date:wr({formats:vw,defaultWidth:"full"}),time:wr({formats:yw,defaultWidth:"full"}),dateTime:wr({formats:ww,defaultWidth:"full"})},_w={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bw=(e,t,n,r)=>_w[e];function Ct(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Ew={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tw=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ow={ordinalNumber:Tw,era:Ct({values:Ew,defaultWidth:"wide"}),quarter:Ct({values:xw,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ct({values:Sw,defaultWidth:"wide"}),day:Ct({values:Pw,defaultWidth:"wide"}),dayPeriod:Ct({values:Cw,defaultWidth:"wide",formattingValues:Nw,defaultFormattingWidth:"wide"})};function Nt(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Rw(o,f=>f.test(i)):jw(o,f=>f.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=t.slice(i.length);return{value:c,rest:d}}}function jw(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Rw(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Jh(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const o=t.slice(s.length);return{value:i,rest:o}}}const $w=/^(\d+)(th|st|nd|rd)?/i,Lw=/\d+/i,Aw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mw={any:[/^b/i,/^(a|c)/i]},Iw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dw={any:[/1/i,/2/i,/3/i,/4/i]},Uw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ww={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qw={ordinalNumber:Jh({matchPattern:$w,parsePattern:Lw,valueCallback:e=>parseInt(e,10)}),era:Nt({matchPatterns:Aw,defaultMatchWidth:"wide",parsePatterns:Mw,defaultParseWidth:"any"}),quarter:Nt({matchPatterns:Iw,defaultMatchWidth:"wide",parsePatterns:Dw,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Nt({matchPatterns:Uw,defaultMatchWidth:"wide",parsePatterns:Fw,defaultParseWidth:"any"}),day:Nt({matchPatterns:zw,defaultMatchWidth:"wide",parsePatterns:Bw,defaultParseWidth:"any"}),dayPeriod:Nt({matchPatterns:Ww,defaultMatchWidth:"any",parsePatterns:Hw,defaultParseWidth:"any"})},Vw={code:"en-US",formatDistance:gw,formatLong:kw,formatRelative:bw,localize:Ow,match:qw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kw(e,t){const n=_t(e,t==null?void 0:t.in);return cw(n,mw(n))+1}function Gw(e,t){const n=_t(e,t==null?void 0:t.in),r=+Ga(n)-+dw(n);return Math.round(r/Qh)+1}function Xh(e,t){var d,f,m,v;const n=_t(e,t==null?void 0:t.in),r=n.getFullYear(),s=yi(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(m=s.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,i=vn((t==null?void 0:t.in)||e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const o=Os(i,t),l=vn((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,a),l.setHours(0,0,0,0);const c=Os(l,t);return+n>=+o?r+1:+n>=+c?r:r-1}function Qw(e,t){var o,l,c,d;const n=yi(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=Xh(e,t),a=vn((t==null?void 0:t.in)||e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Os(a,t)}function Yw(e,t){const n=_t(e,t==null?void 0:t.in),r=+Os(n,t)-+Qw(n,t);return Math.round(r/Qh)+1}function Z(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Gt={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Z(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Z(n+1,2)},d(e,t){return Z(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Z(e.getHours()%12||12,t.length)},H(e,t){return Z(e.getHours(),t.length)},m(e,t){return Z(e.getMinutes(),t.length)},s(e,t){return Z(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Z(s,t.length)}},Xn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kc={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Gt.y(e,t)},Y:function(e,t,n,r){const s=Xh(e,r),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return Z(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Z(a,t.length)},R:function(e,t){const n=Yh(e);return Z(n,t.length)},u:function(e,t){const n=e.getFullYear();return Z(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Z(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Z(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Gt.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Z(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=Yw(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Z(s,t.length)},I:function(e,t,n){const r=Gw(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Z(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Gt.d(e,t)},D:function(e,t,n){const r=Kw(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Z(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Z(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Z(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Z(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Xn.noon:r===0?s=Xn.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Xn.evening:r>=12?s=Xn.afternoon:r>=4?s=Xn.morning:s=Xn.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Gt.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Gt.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Z(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Z(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gt.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Gt.s(e,t)},S:function(e,t){return Gt.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Qc(r);case"XXXX":case"XX":return Tn(r);case"XXXXX":case"XXX":default:return Tn(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Qc(r);case"xxxx":case"xx":return Tn(r);case"xxxxx":case"xxx":default:return Tn(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Gc(r,":");case"OOOO":default:return"GMT"+Tn(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Gc(r,":");case"zzzz":default:return"GMT"+Tn(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Z(r,t.length)},T:function(e,t,n){return Z(+e,t.length)}};function Gc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+Z(a,2)}function Qc(e,t){return e%60===0?(e>0?"-":"+")+Z(Math.abs(e)/60,2):Tn(e,t)}function Tn(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Z(Math.trunc(r/60),2),a=Z(r%60,2);return n+s+t+a}const Yc=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Zh=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Jw=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Yc(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Yc(r,t)).replace("{{time}}",Zh(s,t))},Xw={p:Zh,P:Jw},Zw=/^D+$/,ek=/^Y+$/,tk=["D","DD","YY","YYYY"];function nk(e){return Zw.test(e)}function rk(e){return ek.test(e)}function sk(e,t,n){const r=ak(e,t,n);if(console.warn(r),tk.includes(e))throw new RangeError(r)}function ak(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ik=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ok=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lk=/^'([^]*?)'?$/,uk=/''/g,ck=/[a-zA-Z]/;function dk(e,t,n){var d,f,m,v,w,_,b,g;const r=yi(),s=(n==null?void 0:n.locale)??r.locale??Vw,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((v=(m=r.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((_=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((g=(b=r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??0,o=_t(e,n==null?void 0:n.in);if(!hw(o))throw new RangeError("Invalid time value");let l=t.match(ok).map(h=>{const p=h[0];if(p==="p"||p==="P"){const k=Xw[p];return k(h,s.formatLong)}return h}).join("").match(ik).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const p=h[0];if(p==="'")return{isToken:!1,value:fk(h)};if(Kc[p])return{isToken:!0,value:h};if(p.match(ck))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const c={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return l.map(h=>{if(!h.isToken)return h.value;const p=h.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&rk(p)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&nk(p))&&sk(p,t,String(e));const k=Kc[p[0]];return k(o,p,s.localize,c)}).join("")}function fk(e){const t=e.match(lk);return t?t[1].replace(uk,"'"):e}const hk={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},mk=(e,t,n)=>{let r;const s=hk[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dalam waktu "+r:r+" yang lalu":r},pk={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},gk={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},vk={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yk={date:wr({formats:pk,defaultWidth:"full"}),time:wr({formats:gk,defaultWidth:"full"}),dateTime:wr({formats:vk,defaultWidth:"full"})},wk={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},kk=(e,t,n,r)=>wk[e],_k={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},bk={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},Ek={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},xk={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},Sk={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},Pk={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},Ck=(e,t)=>"ke-"+Number(e),Nk={ordinalNumber:Ck,era:Ct({values:_k,defaultWidth:"wide"}),quarter:Ct({values:bk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ct({values:Ek,defaultWidth:"wide"}),day:Ct({values:xk,defaultWidth:"wide"}),dayPeriod:Ct({values:Sk,defaultWidth:"wide",formattingValues:Pk,defaultFormattingWidth:"wide"})},Tk=/^ke-(\d+)?/i,Ok=/\d+/i,jk={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},Rk={any:[/^s/i,/^(m|e)/i]},$k={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},Lk={any:[/1/i,/2/i,/3/i,/4/i]},Ak={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},Mk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ik={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},Dk={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},Uk={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},Fk={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},zk={ordinalNumber:Jh({matchPattern:Tk,parsePattern:Ok,valueCallback:e=>parseInt(e,10)}),era:Nt({matchPatterns:jk,defaultMatchWidth:"wide",parsePatterns:Rk,defaultParseWidth:"any"}),quarter:Nt({matchPatterns:$k,defaultMatchWidth:"wide",parsePatterns:Lk,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Nt({matchPatterns:Ak,defaultMatchWidth:"wide",parsePatterns:Mk,defaultParseWidth:"any"}),day:Nt({matchPatterns:Ik,defaultMatchWidth:"wide",parsePatterns:Dk,defaultParseWidth:"any"}),dayPeriod:Nt({matchPatterns:Uk,defaultMatchWidth:"any",parsePatterns:Fk,defaultParseWidth:"any"})},Bk={code:"id",formatDistance:mk,formatLong:yk,formatRelative:kk,localize:Nk,match:zk,options:{weekStartsOn:1,firstWeekContainsDate:1}},Wk=({profile:e})=>!e||!(e.is_verified||e.is_founder||e.is_security||e.is_one)?null:u.createElement("span",{className:"inline-flex items-center flex-wrap gap-1.5"},e.is_verified&&u.createElement("i",{className:"bi bi-patch-check-fill text-blue-500 text-base leading-none"}),e.is_founder&&u.createElement("span",{className:"founder-label"},"Founder"),e.is_security&&u.createElement("span",{className:"security-label"},"Security"),e.is_one&&u.createElement("span",{className:"one-label"},"ONE")),Hk=e=>{const t=new Date(e),r=Math.floor((new Date-t)/1e3);if(r<60)return`${r}s`;const s=Math.floor(r/60);if(s<60)return`${s}m`;const a=Math.floor(s/60);return a<24?`${a}h`:dk(t,"d MMM",{locale:Bk})},Jc=e=>{if(!e)return"";const t=/(https?:\/\/[^\s]+)|(@\w+)|(#\w+)/g;return e.split(t).filter(r=>r).map((r,s)=>{if(r.startsWith("@")){const a=r.substring(1);return u.createElement(Je,{to:`/user/${a}`,key:s,className:"text-blue-500 hover:underline"},r)}if(r.startsWith("#")){const a=r.substring(1);return u.createElement(Je,{to:`/?hashtag=${a}`,key:s,className:"text-blue-500 hover:underline"},r)}return/^https?:\/\//.test(r)?u.createElement("a",{href:r,key:s,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline"},r):r})},qk=({src:e})=>{const t=y.useRef(null),n=y.useRef(null),[r,s]=y.useState(!0),[a,i]=y.useState(!1),[o,l]=y.useState(0),[c,d]=y.useState(0),[f,m]=y.useState(0),v=h=>{h.stopPropagation(),t.current&&(t.current.muted=!t.current.muted,s(t.current.muted))},w=()=>{t.current&&(t.current.paused?t.current.play():t.current.pause())};y.useEffect(()=>{const h=t.current;if(!h)return;const p=()=>i(!0),k=()=>i(!1),E=()=>m(h.duration),x=()=>{h.duration&&(l(h.currentTime/h.duration*100),d(h.currentTime))};h.addEventListener("play",p),h.addEventListener("pause",k),h.addEventListener("loadedmetadata",E),h.addEventListener("timeupdate",x);const S=new IntersectionObserver(([T])=>{T.isIntersecting?h.play().catch(()=>{}):h.pause()},{threshold:.5});return S.observe(h),()=>{h&&(S.unobserve(h),h.removeEventListener("play",p),h.removeEventListener("pause",k),h.removeEventListener("loadedmetadata",E),h.removeEventListener("timeupdate",x))}},[e]);const _=y.useCallback((h,p)=>{const k=t.current;if(!k||!k.duration)return;const E=p.getBoundingClientRect(),x=(h.clientX-E.left)/E.width;k.currentTime=Math.max(0,Math.min(x,1))*k.duration},[]),b=y.useCallback(h=>{h.preventDefault();const p=n.current;if(!p)return;_(h,p);const k=x=>_(x,p),E=()=>{window.removeEventListener("mousemove",k),window.removeEventListener("mouseup",E)};window.addEventListener("mousemove",k),window.addEventListener("mouseup",E)},[_]),g=h=>{if(isNaN(h))return"0:00";const p=Math.floor(h/60),k=Math.floor(h%60);return`${p}:${k.toString().padStart(2,"0")}`};return u.createElement("div",{className:"relative mt-2 rounded-xl overflow-hidden w-full group"},u.createElement("video",{ref:t,src:e,loop:!0,muted:!0,playsInline:!0,onClick:w,className:"w-full h-full object-cover cursor-pointer"}),u.createElement("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center pointer-events-none group-hover:opacity-100 opacity-0 transition-opacity"},!a&&u.createElement("i",{className:"bi bi-play-fill text-white text-6xl"})),u.createElement("div",{className:"absolute top-2 right-2 z-10"},u.createElement("button",{onClick:v,className:"bg-black/50 text-white rounded-full w-8 h-8 flex items-center justify-center text-lg hover:bg-black/75 transition-opacity"},r?u.createElement("i",{className:"bi bi-volume-mute-fill"}):u.createElement("i",{className:"bi bi-volume-up-fill"}))),u.createElement("div",{ref:n,onMouseDown:b,className:"absolute bottom-0 left-0 w-full h-5 cursor-pointer flex items-end opacity-0 group-hover:opacity-100 transition-opacity pb-1"},u.createElement("div",{className:"w-full h-1 bg-white/40 relative group-hover:h-[5px] transition-all duration-200"},u.createElement("div",{className:"h-full bg-white absolute top-0 left-0",style:{width:`${o}%`}}),u.createElement("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 rounded-full bg-white scale-0 group-hover:scale-100 transition-transform duration-200 pointer-events-none",style:{left:`${o}%`}}))),u.createElement("div",{className:"absolute bottom-2 left-2 text-white text-xs bg-black/50 px-2 py-1 rounded"},u.createElement("span",null,g(c)," / ",g(f))))},em=({post:e,currentUser:t,openCommentModal:n,onDelete:r,showToast:s,onReactionClick:a,onLike:i,onImageClick:o})=>{var k;const l=e.likes||[],c=e.reactions||[],d=e.profiles;if(!d)return null;const f=l.some(E=>E.user_id===t.id),m=c.find(E=>E.user_id===t.id),v=t.id===e.user_id,w=d.full_name?d.full_name.charAt(0).toUpperCase():"?",_=d.profile_avatar_url||`https://placehold.co/48x48/1A1A1A/FFFFFF?text=${w}&font=inter`,b=Hk(e.created_at),g=()=>{const E=`${window.location.origin}/?post_id=${e.id}`;navigator.clipboard.writeText(E).then(()=>{s("Tautan disalin ke clipboard!")})},h=c.reduce((E,x)=>(E[x.reaction_type]=(E[x.reaction_type]||0)+1,E),{}),p=Object.entries(h).sort((E,x)=>x[1]-E[1]);return u.createElement("div",{className:"flex p-4 space-x-4 border-b border-gray-200 dark:border-slate-800 hover:bg-gray-100 dark:hover:bg-slate-900 transition-colors duration-150"},u.createElement("div",{className:"flex-shrink-0"},u.createElement(Je,{to:`/user/${d.username}`},u.createElement("img",{src:_,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover"}))),u.createElement("div",{className:"flex-1 min-w-0"},u.createElement("div",{className:"flex items-start justify-between"},u.createElement("div",{className:"flex items-baseline flex-wrap gap-x-2 text-sm"},u.createElement(Je,{to:`/user/${d.username}`,className:"font-bold text-base hover:underline text-black dark:text-white"},d.full_name),u.createElement(Wk,{profile:d}),u.createElement("span",{className:"text-gray-500 dark:text-slate-400 whitespace-nowrap"},"@",d.username,"  ",b)),v&&u.createElement("div",{className:"relative group flex-shrink-0 ml-2"},u.createElement("button",{className:"p-1 rounded-full text-gray-400 dark:text-slate-600 hover:bg-gray-200 dark:hover:bg-slate-700"},u.createElement("i",{className:"bi bi-three-dots"})),u.createElement("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-slate-700 rounded-md shadow-lg py-1 z-10 opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 transition-opacity duration-150"},u.createElement("button",{onClick:()=>r(e),className:"w-full text-left px-4 py-2 text-red-500 hover:bg-gray-100 dark:hover:bg-slate-600"},u.createElement("i",{className:"bi bi-trash mr-2"}),"Hapus Postingan")))),e.is_full_text?u.createElement("div",{className:`my-2 p-8 rounded-2xl flex items-center justify-center text-center text-white ${e.bg_color} min-h-[12rem]`},u.createElement("p",{className:`text-2xl ${e.font_family}`},Jc(e.content))):u.createElement("p",{className:"my-2 text-base whitespace-pre-wrap break-words"},Jc(e.content)),e.image_url&&u.createElement("div",{className:"mt-2 rounded-xl overflow-hidden cursor-pointer"},u.createElement("img",{src:e.image_url,alt:"Post media",className:"w-full h-auto object-cover",onClick:()=>o&&o(e.image_url)})),e.video_url&&u.createElement(qk,{src:e.video_url}),p.length>0&&u.createElement("div",{className:"flex items-center flex-wrap gap-2 mt-3"},p.map(([E,x])=>u.createElement("div",{key:E,className:"dark:bg-slate-700 dark:text-slate-200 flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded-full"},u.createElement("span",null,E),u.createElement("span",{className:"font-bold"},x)))),u.createElement("div",{className:"flex items-center justify-between text-gray-500 dark:text-slate-400 mt-3"},u.createElement("div",{className:"flex space-x-6"},u.createElement("button",{onClick:()=>n(e),className:"flex items-center space-x-2 text-sm hover:text-blue-500 transition-colors"},u.createElement("i",{className:"bi bi-chat"}),u.createElement("span",null,((k=e.comments[0])==null?void 0:k.count)||0)),u.createElement("button",{onClick:()=>i(e.id),className:`flex items-center space-x-2 text-sm transition-colors ${f?"text-red-500":"hover:text-red-500"}`},u.createElement("i",{className:`bi ${f?"bi-heart-fill":"bi-heart"}`}),u.createElement("span",null,l.length)),u.createElement("button",{className:`flex items-center space-x-2 text-sm hover:text-yellow-500 transition-colors ${m?"text-yellow-500":""}`,onClick:E=>a&&a(e.id,E.currentTarget)},u.createElement("i",{className:"bi bi-emoji-smile"}))),u.createElement("button",{onClick:g,className:"p-2 rounded-full text-gray-400 dark:text-slate-600 hover:bg-gray-200 dark:hover:bg-slate-700"},u.createElement("i",{className:"bi bi-share"})))))},uu=({message:e,onConfirm:t,onCancel:n,title:r="Konfirmasi Aksi",confirmText:s="Hapus",cancelText:a="Batal"})=>u.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60]"},u.createElement("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-sm mx-4 p-6 text-center"},u.createElement("div",{className:"text-5xl text-red-500 mb-4"},u.createElement("i",{className:"bi bi-exclamation-triangle"})),u.createElement("h2",{className:"font-bold text-lg mb-2 dark:text-white"},r),u.createElement("p",{className:"text-gray-600 dark:text-slate-300 mb-6"},e),u.createElement("div",{className:"flex justify-center gap-4"},u.createElement("button",{onClick:n,className:"w-full px-4 py-2 bg-gray-200 text-gray-800 dark:bg-slate-600 dark:text-slate-200 rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-slate-500"},a),u.createElement("button",{onClick:t,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg font-semibold hover:bg-red-700"},s)))),tm=({profile:e})=>e?u.createElement("span",{className:"inline-flex items-center flex-wrap gap-1.5 ml-1.5"},e.is_verified&&u.createElement("i",{className:"bi bi-patch-check-fill text-blue-500 text-base leading-none"}),e.is_founder&&u.createElement("span",{className:"founder-label"},"Founder"),e.is_security&&u.createElement("span",{className:"security-label"},"Security"),e.is_one&&u.createElement("span",{className:"one-label"},"ONE")):null,Xc=e=>{if(!e)return"";const t=/(https?:\/\/[^\s]+)|(@\w+)|(#\w+)/g;return e.split(t).filter(r=>r).map((r,s)=>{if(r.startsWith("@")){const a=r.substring(1);return u.createElement(Je,{to:`/user/${a}`,key:s,className:"text-blue-500 hover:underline"},r)}if(r.startsWith("#")){const a=r.substring(1);return u.createElement(Je,{to:`/?hashtag=${a}`,key:s,className:"text-blue-500 hover:underline"},r)}return/^https?:\/\//.test(r)?u.createElement("a",{href:r,key:s,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline"},r):r})},Vk=({src:e})=>{const t=y.useRef(null),[n,r]=y.useState(!1),[s,a]=y.useState(!0),i=()=>{t.current&&(t.current.paused?t.current.play():t.current.pause())};return y.useEffect(()=>{const o=t.current;if(!o)return;const l=()=>r(!0),c=()=>r(!1);return o.addEventListener("play",l),o.addEventListener("pause",c),()=>{o.removeEventListener("play",l),o.removeEventListener("pause",c)}},[]),u.createElement("div",{className:"relative mt-2 rounded-xl overflow-hidden w-full group"},u.createElement("video",{ref:t,src:e,loop:!0,muted:s,playsInline:!0,onClick:i,className:"w-full h-full object-cover cursor-pointer"}),u.createElement("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center pointer-events-none group-hover:opacity-100 opacity-0 transition-opacity"},!n&&u.createElement("i",{className:"bi bi-play-fill text-white text-6xl"})),u.createElement("button",{onClick:o=>{o.stopPropagation(),a(!s)},className:"absolute top-2 right-2 z-10 bg-black/50 text-white rounded-full w-8 h-8 flex items-center justify-center text-lg hover:bg-black/75 transition-opacity"},s?u.createElement("i",{className:"bi bi-volume-mute-fill"}):u.createElement("i",{className:"bi bi-volume-up-fill"})))},Kk=({post:e,currentUser:t,onVote:n,showToast:r})=>{const s=e.poll_votes.find(o=>o.user_id===(t==null?void 0:t.id)),a=e.poll_options.reduce((o,l)=>o+l.votes,0),i=o=>{if(s){r("Anda sudah memberikan suara.");return}n(e.id,o)};return u.createElement("div",{className:"mt-4 border-t dark:border-slate-700 pt-4"},u.createElement("h3",{className:"font-bold text-lg mb-2"},e.poll_question),u.createElement("div",{className:"space-y-2"},e.poll_options.map((o,l)=>{const c=a>0?o.votes/a*100:0,d=(s==null?void 0:s.option_text)===o.option;return u.createElement("button",{key:l,onClick:()=>i(o.option),disabled:!!s,className:`w-full text-left p-2.5 border dark:border-slate-600 rounded-lg relative overflow-hidden transition-colors ${s?"cursor-not-allowed":"hover:bg-gray-100 dark:hover:bg-slate-700"}`},s&&u.createElement("div",{className:"absolute top-0 left-0 h-full bg-blue-500/20 rounded-lg",style:{width:`${c}%`}}),u.createElement("div",{className:"relative flex justify-between items-center font-semibold"},u.createElement("span",{className:"flex items-center"},o.option,d&&u.createElement("i",{className:"bi bi-check-circle-fill text-blue-500 ml-2"})),s&&u.createElement("span",null,Math.round(c),"%")))})),u.createElement("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2"},a," suara"))},nm=({comment:e,postOwnerId:t,currentUser:n,onReply:r,onDelete:s,onLike:a,onPin:i,level:o=0})=>{var g,h;const[l,c]=y.useState(!1),d=e.profiles;if(!d)return null;const f=n&&((g=e.liked_by)==null?void 0:g.includes(n.id)),m=n&&t&&n.id===t,v=n&&n.id===e.user_id,w=o>0,_=d.full_name?d.full_name.charAt(0).toUpperCase():"?",b=d.profile_avatar_url||`https://placehold.co/40x40/1A1A1A/FFFFFF?text=${_}&font=inter`;return u.createElement("div",{className:"comment-item-wrapper"},u.createElement("div",{className:"flex space-x-3 pt-4"},u.createElement("div",{className:"flex-shrink-0"},u.createElement(Je,{to:`/user/${d.username}`},u.createElement("img",{src:b,alt:"Avatar",className:`rounded-full bg-gray-200 dark:bg-slate-700 object-cover ${w?"w-8 h-8":"w-10 h-10"}`}))),u.createElement("div",{className:"flex-1 min-w-0"},u.createElement("div",{className:`rounded-xl ${e.is_pinned?"bg-sky-100 dark:bg-sky-900/40":"bg-gray-100 dark:bg-slate-700"}`},u.createElement("div",{className:"p-3"},e.is_pinned&&u.createElement("div",{className:"text-xs text-sky-600 dark:text-sky-400 font-semibold mb-2 flex items-center"},u.createElement("i",{className:"bi bi-pin-angle-fill mr-1.5"}),"Disematkan oleh Pemilik"),u.createElement("div",{className:"flex justify-between items-start"},u.createElement("div",{className:"flex items-center flex-wrap gap-x-2"},u.createElement(Je,{to:`/user/${d.username}`,className:"font-bold hover:underline text-sm text-black dark:text-white leading-tight"},d.full_name),u.createElement(tm,{profile:d}),u.createElement("span",{className:"text-gray-500 dark:text-slate-400 text-sm"},"@",d.username)),u.createElement("div",{className:"flex items-center flex-shrink-0 ml-2"},m&&!e.parent_comment_id&&u.createElement("button",{onClick:()=>i(e.id,!e.is_pinned),className:`p-1 rounded-full transition-colors ${e.is_pinned?"text-sky-500 dark:text-sky-400":"text-gray-400 dark:text-slate-500 hover:text-sky-500 dark:hover:text-sky-400"}`,title:e.is_pinned?"Lepas Pin":"Pin Komentar"},u.createElement("i",{className:`bi text-base ${e.is_pinned?"bi-pin-angle-fill":"bi-pin-angle"}`})),(v||m)&&u.createElement("button",{onClick:()=>s(e.id),className:"p-1 rounded-full text-gray-400 dark:text-slate-500 hover:text-red-500 dark:hover:text-red-400 transition-colors"},u.createElement("i",{className:"bi bi-trash text-base"})))),u.createElement("p",{className:"text-sm mt-1 whitespace-pre-wrap break-words"},e.reply_to_username&&u.createElement(Je,{to:`/user/${e.reply_to_username}`,className:"text-blue-500 hover:underline mr-1"},"@",e.reply_to_username),e.content))),u.createElement("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-slate-400 mt-1.5 px-3"},u.createElement("button",{onClick:()=>a(e.id),className:`flex items-center space-x-1 font-semibold ${f?"text-red-500":"hover:text-red-500"}`},u.createElement("i",{className:`bi ${f?"bi-heart-fill":"bi-heart"}`}),u.createElement("span",null,"Suka (",((h=e.liked_by)==null?void 0:h.length)||0,")")),u.createElement("button",{onClick:()=>r(e,d.username),className:"font-semibold hover:underline"},"Balas"),u.createElement("span",{className:"text-xs"},new Date(e.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}))),e.replies&&e.replies.length>0&&u.createElement("button",{onClick:()=>c(!l),className:"text-sm text-blue-500 font-semibold mt-2 px-3"},l?"Sembunyikan":`Lihat ${e.replies.length} balasan`),l&&u.createElement("div",{className:`replies-container pt-2 ${o===0?"ml-6":""}`},e.replies.map(p=>u.createElement(nm,{key:p.id,comment:p,postOwnerId:t,currentUser:n,onReply:r,onDelete:s,onLike:a,onPin:i,level:o+1}))))))},rm=({postInit:e,currentUser:t,onClose:n,onPostUpdate:r,showToast:s})=>{const[a,i]=y.useState(e),[o,l]=y.useState([]),[c,d]=y.useState(""),[f,m]=y.useState(!0),[v,w]=y.useState(!1),[_,b]=y.useState(null),[g,h]=y.useState(null),p=y.useRef(null);y.useEffect(()=>{r&&a&&r(a)},[a,r]);const k=y.useCallback(async()=>{if(!(e!=null&&e.id))return;m(!0);const{data:U,error:q}=await R.from("posts").select("*, profiles(*), likes(user_id), reactions(*), comments(count), poll_votes(user_id, option_text)").eq("id",e.id).single();if(q){console.error("Error fetching post in modal:",q),m(!1);return}i(U);const{data:Q,error:Se}=await R.from("comments").select("*").eq("post_id",e.id).order("created_at",{ascending:!0});if(Se||!Q||Q.length===0){l([]),m(!1);return}const ye=[...new Set(Q.map(P=>P.user_id).filter(P=>P))];if(ye.length===0){l(Q.map(P=>({...P,profiles:null}))),m(!1);return}const{data:he}=await R.from("profiles").select("id, username, full_name, profile_avatar_url, is_verified, is_founder, is_security, is_one").in("id",ye),N=new Map(he?he.map(P=>[P.id,P]):[]),$=Q.map(P=>({...P,profiles:N.get(P.user_id)||null})).filter(P=>P.profiles),M=new Map;$.forEach(P=>M.set(P.id,{...P,replies:[]}));const G=[];$.forEach(P=>{P.parent_comment_id&&M.has(P.parent_comment_id)?M.get(P.parent_comment_id).replies.push(M.get(P.id)):G.push(M.get(P.id))}),G.sort((P,I)=>(I.is_pinned?1:0)-(P.is_pinned?1:0)||new Date(P.created_at)-new Date(I.created_at)),l(G),m(!1)},[e==null?void 0:e.id]);y.useEffect(()=>{k()},[k]),y.useEffect(()=>{var U;_&&((U=p.current)==null||U.focus())},[_]);const E=async U=>{if(U.preventDefault(),!c.trim()||!t||v)return;w(!0);const{error:q}=await R.from("comments").insert({content:c.trim(),user_id:t.id,post_id:a.id,parent_comment_id:_==null?void 0:_.comment.id,reply_to_username:_==null?void 0:_.username});q?(s("Gagal mengirim komentar."),console.error(q)):(d(""),b(null),await k()),w(!1)},x=async U=>{t&&(await R.rpc("toggle_comment_like",{comment_id_to_toggle:U,user_id_to_toggle:t.id}),await k())},S=async U=>{await R.from("comments").delete().eq("id",U),k(),s("Komentar berhasil dihapus.")},T=async(U,q)=>{const{error:Q}=await R.from("comments").update({is_pinned:q}).eq("id",U);Q?s("Gagal mengubah status pin."):k()},L=async(U,q)=>{if(!t||a.poll_votes.some(Se=>Se.user_id===t.id)){s("Anda sudah memberikan suara.");return}const{error:Q}=await R.from("poll_votes").insert({post_id:U,user_id:t.id,option_text:q});Q?s("Gagal memberikan suara."):(await R.rpc("increment_poll_vote",{post_id_to_update:U,option_to_increment:q}),k())};if(!a||!a.profiles)return u.createElement("div",{className:"fixed inset-0 bg-gray-900/80 flex items-center justify-center z-50"},u.createElement("div",{className:"w-8 h-8 border-4 border-t-transparent border-white rounded-full animate-spin"}));const O=a.profiles.full_name?a.profiles.full_name.charAt(0).toUpperCase():"?",A=a.profiles.profile_avatar_url||`https://placehold.co/48x48/1A1A1A/FFFFFF?text=${O}&font=inter`;return u.createElement(u.Fragment,null,u.createElement("div",{className:"fixed inset-0 bg-gray-900/80 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50",onClick:n},u.createElement("div",{className:"bg-white dark:bg-slate-800 text-black dark:text-white rounded-2xl w-full max-w-lg mx-4 flex flex-col max-h-[90vh]",onClick:U=>U.stopPropagation()},u.createElement("div",{className:"flex justify-between items-center p-4 border-b border-black/10 dark:border-slate-700"},u.createElement("h2",{className:"font-bold text-lg"},"Postingan"),u.createElement("button",{onClick:n,className:"text-2xl text-gray-500 hover:text-gray-800 dark:text-slate-400 dark:hover:text-slate-200"},"")),u.createElement("div",{className:"flex-1 p-4 overflow-y-auto"},u.createElement("div",{className:"flex space-x-4 items-start relative"},u.createElement("div",{className:"flex flex-col items-center"},u.createElement(Je,{to:`/user/${a.profiles.username}`},u.createElement("img",{src:A,alt:"Avatar",className:"w-12 h-12 rounded-full object-cover"})),o.length>0&&u.createElement("div",{className:"w-0.5 grow bg-gray-200 dark:bg-slate-700 mt-2"})),u.createElement("div",{className:"flex-1 min-w-0"},u.createElement("div",{className:"flex items-baseline flex-wrap gap-x-2"},u.createElement(Je,{to:`/user/${a.profiles.username}`,className:"font-bold hover:underline text-black dark:text-white"},a.profiles.full_name),u.createElement(tm,{profile:a.profiles})),u.createElement("p",{className:"text-gray-500 dark:text-slate-400 text-sm"},"@",a.profiles.username),a.is_full_text?u.createElement("div",{className:`my-2 p-8 rounded-2xl flex items-center justify-center text-center text-white ${a.bg_color} min-h-[12rem]`},u.createElement("p",{className:`text-2xl ${a.font_family}`},Xc(a.content))):u.createElement("p",{className:"mt-2 text-base whitespace-pre-wrap break-words"},Xc(a.content)),a.image_url&&u.createElement("div",{className:"mt-2 rounded-xl overflow-hidden"},u.createElement("img",{src:a.image_url,alt:"Post media",className:"w-full h-auto object-cover"})),a.video_url&&u.createElement(Vk,{src:a.video_url}),a.is_poll&&u.createElement(Kk,{post:a,currentUser:t,onVote:L,showToast:s}),u.createElement("div",{className:"mt-4"},f&&u.createElement("div",{className:"text-center text-sm text-gray-500 dark:text-slate-400 p-4"},"Memuat komentar..."),!f&&o.length===0&&u.createElement("div",{className:"text-center text-gray-500 dark:text-slate-400 text-sm py-4"},"Belum ada komentar. Jadilah yang pertama!"),o.map(U=>{var q;return u.createElement(nm,{key:U.id,comment:U,postOwnerId:(q=a.profiles)==null?void 0:q.id,currentUser:t,onReply:(Q,Se)=>b({comment:Q,username:Se}),onDelete:h,onLike:x,onPin:T,level:0})}))))),u.createElement("div",{className:"p-4 border-t border-black/10 dark:border-slate-700"},_&&u.createElement("div",{className:"text-sm text-gray-500 dark:text-slate-400 mb-2 flex justify-between"},u.createElement("span",null,"Membalas @",_.username),u.createElement("button",{onClick:()=>b(null),className:"font-semibold text-red-500"},"Batal")),u.createElement("form",{onSubmit:E,className:"flex gap-2"},u.createElement("input",{ref:p,type:"text",className:"flex-1 rounded-full border px-4 py-2 bg-gray-50 dark:bg-slate-700 border-gray-300 dark:border-slate-600 focus:ring-blue-500 focus:border-blue-500 transition",placeholder:"Tulis balasan...",value:c,onChange:U=>d(U.target.value)}),u.createElement("button",{type:"submit",className:"w-10 h-10 rounded-full font-semibold text-white transition-all flex items-center justify-center bg-blue-500 hover:bg-blue-600 disabled:bg-blue-500/50 disabled:cursor-not-allowed",disabled:v||!c.trim()},v?u.createElement("i",{className:"bi bi-arrow-clockwise animate-spin"}):u.createElement("i",{className:"bi bi-send-fill"})))))),g&&u.createElement(uu,{title:"Hapus Komentar",message:"Komentar ini akan dihapus permanen.",onConfirm:()=>{S(g),h(null)},onCancel:()=>h(null)}))},sm=({message:e,show:t})=>{const[n,r]=y.useState(!1);return y.useEffect(()=>{if(t){r(!0);const s=setTimeout(()=>{r(!1)},2800);return()=>clearTimeout(s)}},[t,e]),u.createElement("div",{id:"toast-notification",className:`fixed bottom-20 left-1/2 -translate-x-1/2 bg-gray-900/80 backdrop-blur-sm text-white px-6 py-3 rounded-full z-[100] transition-all duration-300
                ${n?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`},e)},Gk=()=>{const[e,t]=y.useState(!1);return u.createElement(u.Fragment,null,u.createElement("button",{onClick:()=>t(!0),className:"fixed bottom-24 right-4 md:bottom-4 md:right-4 bg-red-600 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg z-30 hover:bg-red-700 transition-transform hover:scale-110",title:"Laporkan Bug"},u.createElement("i",{className:"bi bi-bug-fill text-2xl"})),e&&u.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>t(!1)},u.createElement("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-md m-4 p-6",onClick:n=>n.stopPropagation()},u.createElement("h2",{className:"font-bold text-lg mb-4"},"Laporkan Bug"),u.createElement("p",{className:"text-gray-600 dark:text-slate-300"},"Menemukan masalah? Beri tahu kami agar kami bisa memperbaikinya. Fitur ini sedang dalam pengembangan."),u.createElement("div",{className:"text-right mt-6"},u.createElement("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-gray-200 text-gray-800 dark:bg-slate-600 dark:text-slate-200 rounded-lg font-semibold hover:bg-gray-300 dark:hover:bg-slate-500"},"Tutup")))))},am=({isVisible:e,position:t,onSelectReaction:n})=>{const r=["","","","","",""];return e?u.createElement("div",{className:"dark:bg-slate-800 fixed bg-white rounded-full p-1 shadow-lg flex gap-2 z-50 transition-all duration-150 ease-out",style:{left:`${t.left}px`,top:`${t.top}px`,opacity:e?1:0,transform:e?"scale(1) translateY(0)":"scale(0.9) translateY(10px)",visibility:e?"visible":"hidden"}},r.map(s=>u.createElement("span",{key:s,className:"text-2xl cursor-pointer hover:scale-125 transition-transform",onClick:()=>n(s)},s))):null},Qk=({imageUrl:e,onClose:t})=>e?u.createElement("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[100]",onClick:t},u.createElement("div",{className:"relative max-w-[90vw] max-h-[90vh]",onClick:n=>n.stopPropagation()},u.createElement("img",{src:e,alt:"Tampilan diperbesar",className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"}),u.createElement("button",{onClick:t,className:"absolute -top-3 -right-3 bg-white/20 text-white rounded-full w-10 h-10 flex items-center justify-center text-2xl hover:bg-white/40 transition-colors"},""))):null,Yk=()=>{const{currentUser:e,userProfile:t,followingIds:n,loading:r}=Ir(),s=Lr(),[a,i]=y.useState({"for-you":{posts:[],page:0,hasMore:!0,scrollPosition:0},following:{posts:[],page:0,hasMore:!0,scrollPosition:0}}),[o,l]=y.useState(!0),[c,d]=y.useState("for-you"),[f,m]=y.useState(null),[v,w]=y.useState(null),[_,b]=y.useState({show:!1,message:""}),[g,h]=y.useState(null),[p,k]=y.useState({visible:!1,postId:null,position:{top:0,left:0}}),[E]=Sh(),x=E.get("hashtag"),S=y.useRef(),T=y.useRef(null),L=y.useRef(!1);y.useEffect(()=>{!r&&!e&&s("/auth")},[e,r,s]);const O=P=>{b({show:!0,message:P}),setTimeout(()=>b({show:!1,message:""}),3e3)},A=y.useCallback(async(P,I=!1)=>{if(!e)return;l(!0);const z=a[P];if(I&&!z.hasMore){l(!1);return}const B=5,X=I?z.page:0,ue=X*B,jt=ue+B-1;let We=R.from("posts").select("*, profiles(*), likes(user_id), reactions(*), comments(count), poll_votes(user_id, option_text)");if(x)We=We.contains("hashtags",`{${x.toLowerCase()}}`);else if(P==="following"&&n){const H=[...n,e.id];We=We.in("user_id",H)}We=We.order("created_at",{ascending:!1}).range(ue,jt);const{data:je,error:Hn}=await We;if(Hn)console.error("Error fetching posts:",Hn);else{const H=je.filter(we=>we.profiles),ge=I?[...z.posts,...H]:H,ce=Array.from(new Map(ge.map(we=>[we.id,we])).values());i(we=>({...we,[P]:{...we[P],posts:ce,page:X+1,hasMore:je.length===B}}))}l(!1)},[e,n,x,a]);y.useEffect(()=>{if(e&&!x){const P="for-you";a[P].posts.length===0?A(P):l(!1)}},[e,x]);const U=P=>{var z,B;if(P===c){(z=T.current)==null||z.scrollTo({top:0,behavior:"smooth"});return}const I=((B=T.current)==null?void 0:B.scrollTop)||0;i(X=>({...X,[c]:{...X[c],scrollPosition:I}})),L.current=!0,d(P)};y.useEffect(()=>{var P;if(L.current){const I=a[c];I.posts.length===0&&A(c),(P=T.current)==null||P.scrollTo({top:I.scrollPosition,behavior:"instant"}),L.current=!1}},[c,a,A]);const q=y.useCallback(P=>{o||(S.current&&S.current.disconnect(),S.current=new IntersectionObserver(I=>{I[0].isIntersecting&&a[c].hasMore&&A(c,!0)}),P&&S.current.observe(P))},[o,c,a,A]),Q=y.useCallback(P=>{i(I=>{const z={...I};for(const B in z)z[B]={...z[B],posts:z[B].posts.map(X=>X.id===P.id?P:X)};return z})},[]),Se=P=>{var z;O("Postingan berhasil dibuat!");const I={...P,profiles:t,likes:[],reactions:[],comments:[{count:0}],poll_votes:[]};i(B=>({...B,"for-you":{...B["for-you"],posts:[I,...B["for-you"].posts]},following:{...B.following,posts:[I,...B.following.posts]}})),(z=T.current)==null||z.scrollTo({top:0,behavior:"smooth"})},ye=async()=>{v&&(await R.from("posts").delete().eq("id",v.id),i(P=>{const I={...P};for(const z in I)I[z]={...I[z],posts:I[z].posts.filter(B=>B.id!==v.id)};return I}),O("Postingan berhasil dihapus."),w(null))},he=(P,I)=>{const z=a[c].posts.find(B=>B.id===P);z&&Q({...z,...I})},N=async(P,I)=>{if(!e)return;k({visible:!1});const B=a[c].posts.find(je=>je.id===P);if(!B)return;const X=B.reactions.find(je=>je.user_id===e.id);let ue;X?X.reaction_type===I?ue=B.reactions.filter(je=>je.user_id!==e.id):ue=B.reactions.map(je=>je.user_id===e.id?{...je,reaction_type:I}:je):ue=[...B.reactions,{user_id:e.id,post_id:P,reaction_type:I}],he(P,{reactions:ue});let jt;if(X&&X.reaction_type===I?{error:jt}=await R.from("reactions").delete().match({user_id:e.id,post_id:P}):{error:jt}=await R.from("reactions").upsert({user_id:e.id,post_id:P,reaction_type:I},{onConflict:"user_id, post_id"}),jt){O("Gagal memberi reaksi."),Q(B);return}const{data:We}=await R.from("posts").select("*, profiles(*), likes(user_id), reactions(*), comments(count)").eq("id",P).single();We&&Q(We)},$=async P=>{if(!e)return;const I=a[c].posts.find(ue=>ue.id===P);if(!I)return;const z=I.likes.some(ue=>ue.user_id===e.id),B=z?I.likes.filter(ue=>ue.user_id!==e.id):[...I.likes,{user_id:e.id}];he(P,{likes:B});const{error:X}=z?await R.from("likes").delete().match({user_id:e.id,post_id:P}):await R.from("likes").insert({post_id:P,user_id:e.id});X&&(O("Gagal memberi like."),Q(I))},M=(P,I)=>{if(p.visible&&p.postId===P){k({visible:!1});return}const z=I.getBoundingClientRect(),B=240;let X=z.left+window.scrollX+z.width/2-B/2;X=Math.max(8,Math.min(X,window.innerWidth-B-8)),k({visible:!0,postId:P,position:{top:z.top+window.scrollY-50,left:X}})};if(r||!e&&!r)return u.createElement("div",{className:"w-full h-full flex items-center justify-center"},u.createElement("div",{className:"w-8 h-8 border-4 border-t-transparent border-gray-300 dark:border-slate-600 rounded-full animate-spin"}));const G=a[c].posts;return u.createElement(u.Fragment,null,u.createElement("main",{ref:T,className:"w-full min-w-0 md:border-l md:border-r border-gray-200 dark:border-slate-800 h-full overflow-y-auto"},u.createElement("header",{className:"sticky top-0 z-10 bg-white/80 dark:bg-dark/80 backdrop-blur-sm border-b border-gray-200 dark:border-slate-800"},u.createElement("div",{className:"flex items-center justify-center p-3 md:hidden"},u.createElement("img",{src:"/assets/marhayu-white.png",alt:"Logo Marhayu",className:"h-8"})),u.createElement("div",{id:"header-content",className:"hidden md:block"},u.createElement("div",{id:"tab-container",className:"flex relative"},u.createElement("button",{onClick:()=>U("for-you"),className:`tab-btn flex-1 text-center py-3 font-semibold ${c==="for-you"?"text-black dark:text-white":"text-gray-500 dark:text-slate-400"}`},"For You"),u.createElement("button",{onClick:()=>U("following"),className:`tab-btn flex-1 text-center py-3 font-semibold ${c==="following"?"text-black dark:text-white":"text-gray-500 dark:text-slate-400"}`},"Following")))),u.createElement(iw,{currentUser:e,userProfile:t,onPostCreated:Se}),u.createElement("div",{id:"timeline"},G.map((P,I)=>u.createElement("div",{ref:G.length===I+1?q:null,key:`${c}-${P.id}`},u.createElement(em,{post:P,currentUser:e,openCommentModal:()=>m(P),onDelete:()=>w(P),showToast:O,onReactionClick:M,onLike:$,onImageClick:h})))),o&&G.length===0&&Array.from({length:3}).map((P,I)=>u.createElement("div",{key:I,className:"p-4 border-b border-gray-200 dark:border-slate-800 flex space-x-4"},u.createElement("div",{className:"w-12 h-12 rounded-full skeleton flex-shrink-0"}),u.createElement("div",{className:"w-full space-y-3"},u.createElement("div",{className:"flex justify-between items-center"},u.createElement("div",{className:"w-1/2 h-5 skeleton"})),u.createElement("div",{className:"w-full h-4 skeleton"}),u.createElement("div",{className:"w-3/4 h-4 skeleton"}),u.createElement("div",{className:"w-full h-48 skeleton mt-2 !rounded-xl"})))),o&&G.length>0&&u.createElement("div",{className:"p-6 text-center"},u.createElement("div",{className:"w-8 h-8 border-4 border-t-transparent border-gray-300 dark:border-slate-600 rounded-full animate-spin mx-auto"})),!o&&G.length===0&&u.createElement("p",{className:"p-4 text-center text-gray-500 dark:text-slate-400"},"Tidak ada postingan untuk ditampilkan.")),f&&u.createElement(rm,{postInit:f,currentUser:e,onClose:()=>m(null),onPostUpdate:Q,showToast:O}),u.createElement(Qk,{imageUrl:g,onClose:()=>h(null)}),v&&u.createElement(uu,{title:"Konfirmasi Hapus",message:"Postingan ini akan dihapus permanen dan tidak dapat dikembalikan.",onConfirm:ye,onCancel:()=>w(null)}),u.createElement(Gk,null),u.createElement(sm,{message:_.message,show:_.show}),u.createElement(am,{isVisible:p.visible,position:p.position,onSelectReaction:P=>N(p.postId,P)}))},Zc="/assets/marhayu-white.png",Jk="/assets/marhayu-black.png",ed=["jembut","kontol","memek","goblok","tolol","bego","ngentot","ngewe","bokep","anjing","bangsat","bajingan","asu","setan","iblis","tai","pepek"],Xk=()=>{const[e,t]=y.useState(!0),[n,r]=y.useState(""),[s,a]=y.useState(!1),i=Lr(),[o,l]=y.useState(""),[c,d]=y.useState("idle"),[f,m]=y.useState(""),[v,w]=y.useState(""),[_,b]=y.useState("idle"),[g,h]=y.useState("");y.useEffect(()=>{(async()=>{const{data:{session:O}}=await R.auth.getSession();O&&i("/")})()},[i]),y.useEffect(()=>{const L=setTimeout(()=>{if(v.length===0){b("idle"),h("");return}if(v.length<3){b("invalid"),h("Nama lengkap minimal 3 karakter.");return}if(ed.some(O=>v.toLowerCase().includes(O))){b("invalid"),h("Nama mengandung kata tidak pantas.");return}b("valid"),h("")},500);return()=>{clearTimeout(L)}},[v]),y.useEffect(()=>{const L=setTimeout(async()=>{if(o.length<3){d("idle"),m("");return}if(ed.some(A=>o.includes(A))){d("invalid"),m("Username mengandung kata tidak pantas.");return}d("checking");const{data:O}=await R.from("profiles").select("username").eq("username",o).single();O?(d("taken"),m("Username sudah digunakan.")):(d("available"),m("Username tersedia!"))},500);return()=>{clearTimeout(L)}},[o]);const p=L=>{const O=L.target.value.replace(/[^a-zA-Z\s]/g,"");w(O)},k=L=>{const O=L.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"");l(O)},E=async L=>{L.preventDefault(),a(!0),r("");const{email:O,password:A}=L.target.elements,{error:U}=await R.auth.signInWithPassword({email:O.value,password:A.value});U?r("Email atau kata sandi salah. Silakan coba lagi."):i("/"),a(!1)},x=async L=>{if(L.preventDefault(),c!=="available"||_!=="valid"){r("Harap perbaiki isian form sebelum mendaftar.");return}a(!0),r("");const{email:O,password:A}=L.target.elements,{error:U}=await R.auth.signUp({email:O.value,password:A.value,options:{data:{full_name:v,username:o}}});U?U.message.includes("User already registered")?r("Email sudah terdaftar. Silakan masuk."):r("Gagal membuat akun, pastikan data valid."):i("/"),a(!1)},S=L=>{switch(L){case"checking":return u.createElement("div",{className:"w-4 h-4 border-2 border-t-transparent border-slate-400 rounded-full animate-spin"});case"available":case"valid":return u.createElement("i",{className:"bi bi-check-circle-fill text-green-500"});case"taken":case"invalid":return u.createElement("i",{className:"bi bi-x-circle-fill text-red-500"});default:return null}},T=s||c!=="available"||o.length<3||_!=="valid";return u.createElement("div",{className:"min-h-screen grid grid-cols-1 md:grid-cols-2 bg-light dark:bg-dark text-dark dark:text-light"},u.createElement("div",{className:"hidden md:flex flex-col items-center justify-center bg-black"},u.createElement("img",{src:Zc,alt:"Logo Marhayu",className:"h-24"})),u.createElement("div",{className:"flex flex-col items-center justify-center p-4 md:p-8"},u.createElement("div",{className:"w-full max-w-md"},u.createElement("div",{className:"flex justify-center mb-8 md:hidden"},u.createElement("picture",null,u.createElement("source",{srcSet:Zc,media:"(prefers-color-scheme: dark)"}),u.createElement("img",{src:Jk,alt:"Logo Marhayu",className:"h-12"}))),u.createElement("h1",{className:"text-3xl font-bold text-left mb-6"},"Terjadi Hari Ini"),u.createElement("div",{className:"border border-light-darker dark:border-dark-lighter rounded-2xl p-8"},u.createElement("div",{className:"flex border-b border-light-darker dark:border-dark-lighter mb-6"},u.createElement("button",{onClick:()=>t(!0),className:`flex-1 py-2 font-semibold border-b-2 transition-colors ${e?"border-black dark:border-white":"border-transparent text-gray-500 dark:text-slate-400"}`},"Masuk"),u.createElement("button",{onClick:()=>t(!1),className:`flex-1 py-2 font-semibold border-b-2 transition-colors ${e?"border-transparent text-gray-500 dark:text-slate-400":"border-black dark:border-white"}`},"Daftar")),n&&u.createElement("div",{className:"text-red-500 text-sm mb-4 text-center min-h-[20px]"},n),e?u.createElement("section",null,u.createElement("h2",{className:"text-2xl font-bold mb-4"},"Masuk ke Akun Anda"),u.createElement("form",{onSubmit:E,className:"space-y-4"},u.createElement("div",null,u.createElement("label",{htmlFor:"email",className:"block text-sm font-medium mb-1"},"Email"),u.createElement("input",{type:"email",id:"email",required:!0,className:"w-full px-4 py-2 bg-light-dark dark:bg-dark-light border border-light-darker dark:border-dark-lighter rounded-lg focus:outline-none focus:ring-1 focus:ring-black dark:focus:ring-white transition"})),u.createElement("div",null,u.createElement("label",{htmlFor:"password",className:"block text-sm font-medium mb-1"},"Kata Sandi"),u.createElement("input",{type:"password",id:"password",required:!0,className:"w-full px-4 py-2 bg-light-dark dark:bg-dark-light border border-light-darker dark:border-dark-lighter rounded-lg focus:outline-none focus:ring-1 focus:ring-black dark:focus:ring-white transition"})),u.createElement("div",{className:"pt-4"},u.createElement("button",{type:"submit",disabled:s,className:"w-full bg-black text-white dark:bg-white dark:text-black py-3 rounded-lg font-semibold hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors disabled:opacity-50 interactive-btn"},s?"Memproses...":"Masuk")))):u.createElement("section",null,u.createElement("h2",{className:"text-2xl font-bold mb-4"},"Buat Akun Baru"),u.createElement("form",{onSubmit:x,className:"space-y-4"},u.createElement("div",null,u.createElement("label",{htmlFor:"fullname",className:"block text-sm font-medium mb-1"},"Nama Lengkap"),u.createElement("div",{className:"relative"},u.createElement("input",{type:"text",id:"fullname",required:!0,value:v,onChange:p,className:"w-full pl-4 pr-10 py-2 bg-light-dark dark:bg-dark-light border border-light-darker dark:border-dark-lighter rounded-lg focus:outline-none focus:ring-1 focus:ring-black dark:focus:ring-white transition"}),u.createElement("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center"},S(_))),g&&u.createElement("p",{className:"text-xs mt-1 text-red-600 dark:text-red-400"},g)),u.createElement("div",null,u.createElement("label",{htmlFor:"username",className:"block text-sm font-medium mb-1"},"Username"),u.createElement("div",{className:"relative"},u.createElement("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-slate-400"},"@"),u.createElement("input",{type:"text",id:"username",required:!0,value:o,onChange:k,className:"w-full pl-7 pr-10 py-2 bg-light-dark dark:bg-dark-light border border-light-darker dark:border-dark-lighter rounded-lg focus:outline-none focus:ring-1 focus:ring-black dark:focus:ring-white transition",placeholder:"username_unik"}),u.createElement("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center"},S(c))),f&&u.createElement("p",{className:`text-xs mt-1 ${c==="available"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`},f)),u.createElement("div",null,u.createElement("label",{htmlFor:"email-signup",className:"block text-sm font-medium mb-1"},"Email"),u.createElement("input",{type:"email",id:"email-signup",name:"email",required:!0,className:"w-full px-4 py-2 bg-light-dark dark:bg-dark-light border border-light-darker dark:border-dark-lighter rounded-lg focus:outline-none focus:ring-1 focus:ring-black dark:focus:ring-white transition"})),u.createElement("div",null,u.createElement("label",{htmlFor:"password-signup",className:"block text-sm font-medium mb-1"},"Kata Sandi"),u.createElement("input",{type:"password",id:"password-signup",name:"password",required:!0,className:"w-full px-4 py-2 bg-light-dark dark:bg-dark-light border border-light-darker dark:border-dark-lighter rounded-lg focus:outline-none focus:ring-1 focus:ring-black dark:focus:ring-white transition",placeholder:"Minimal 6 karakter"})),u.createElement("div",{className:"pt-4"},u.createElement("button",{type:"submit",disabled:T,className:"w-full bg-black text-white dark:bg-white dark:text-black py-3 rounded-lg font-semibold hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors disabled:opacity-50 interactive-btn"},s?"Memproses...":"Daftar"))))),u.createElement("p",{className:"text-center text-xs text-gray-500 dark:text-slate-500 mt-6"},"Dengan mendaftar, Anda menyetujui Persyaratan Layanan dan Kebijakan Privasi kami."))))},Zk=()=>u.createElement("div",{className:"flex items-start p-4 border-b border-gray-200 dark:border-slate-700 animate-pulse"},u.createElement("div",{className:"w-10 mr-4"},u.createElement("div",{className:"w-8 h-8 rounded-xl skeleton bg-gray-200 dark:bg-slate-700"})),u.createElement("div",{className:"flex-1 space-y-2"},u.createElement("div",{className:"w-12 h-8 rounded-2xl skeleton bg-gray-200 dark:bg-slate-700"}),u.createElement("div",{className:"w-3/4 h-4 skeleton bg-gray-200 dark:bg-slate-700"}),u.createElement("div",{className:"w-1/2 h-4 skeleton bg-gray-200 dark:bg-slate-700"}))),e_=({notification:e,onAccept:t,onDecline:n})=>{if(!e.actor)return null;const{actor:r,post:s,notification_type:a,created_at:i,is_read:o,id:l}=e,c=r.full_name?r.full_name.charAt(0).toUpperCase():"?",d=r.profile_avatar_url||`https://placehold.co/40x40/1A1A1A/FFFFFF?text=${c}&font=inter`;let f="",m="",v="#",w="";if(s){const _=s.content||(s.video_url?"Video":"Postingan"),b=_.substring(0,50)+(_.length>50?"...":""),g="text-sm text-gray-500 dark:text-slate-400 mt-1 pl-2 border-l-2 border-gray-200 dark:border-slate-600";s.video_url?w=`<div class="${g} flex items-center"><i class="bi bi-play-circle-fill mr-2"></i><span>${b}</span></div>`:w=`<p class="${g}">"${b}"</p>`}switch(a){case"follow":f='<i class="bi bi-person-plus-fill text-blue-500 text-2xl"></i>',m=`<strong>${r.full_name||"Seseorang"}</strong> mulai mengikuti Anda.`,v=`/user/${r.username}`;break;case"follow_request":f='<i class="bi bi-person-check-fill text-green-500 text-2xl"></i>',m=`<strong>${r.full_name||"Seseorang"}</strong> ingin mengikuti Anda.`,v=`/user/${r.username}`;break;case"like_post":f='<i class="bi bi-heart-fill text-red-500 text-2xl"></i>',m=`<strong>${r.full_name||"Seseorang"}</strong> menyukai postingan Anda.`,v=`/?post_id=${e.post_id}`;break;case"comment":f='<i class="bi bi-chat-left-text-fill text-gray-600 dark:text-slate-400 text-2xl"></i>',m=`<strong>${r.full_name||"Seseorang"}</strong> mengomentari postingan Anda.`,v=`/?post_id=${e.post_id}`;break;default:m="Notifikasi tidak dikenal.",f='<i class="bi bi-question-circle-fill text-gray-400 text-2xl"></i>';break}return u.createElement("div",{className:`p-4 border-b border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-800/50 transition-colors ${o?"":"bg-blue-500/10"}`},u.createElement("div",{className:"flex items-start"},u.createElement("div",{className:"w-10 mr-4",dangerouslySetInnerHTML:{__html:f}}),u.createElement(Je,{to:v,className:"flex-1"},u.createElement("img",{src:d,alt:r.full_name||"Avatar",className:"w-8 h-8 rounded-xl mb-2 object-cover"}),u.createElement("p",{dangerouslySetInnerHTML:{__html:m}}),w&&u.createElement("div",{dangerouslySetInnerHTML:{__html:w}}),u.createElement("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-2"},new Date(i).toLocaleString("id-ID",{dateStyle:"short",timeStyle:"short"}))),!o&&u.createElement("div",{className:"w-3 h-3 bg-blue-500 rounded-full self-center ml-2 flex-shrink-0"})),a==="follow_request"&&u.createElement("div",{className:"flex gap-2 mt-2 ml-14"},u.createElement("button",{onClick:()=>t(r.id,l),className:"accept-request-btn bg-blue-500 text-white px-3 py-1 text-sm rounded-full font-semibold interactive-btn"},"Terima"),u.createElement("button",{onClick:()=>n(r.id,l),className:"decline-request-btn bg-gray-200 dark:bg-slate-600 px-3 py-1 text-sm rounded-full font-semibold interactive-btn"},"Tolak")))},t_=()=>{const{currentUser:e}=Ir(),[t,n]=y.useState([]),[r,s]=y.useState(!0),[a,i]=y.useState(!1);y.useEffect(()=>{(async()=>{if(!e)return;s(!0);const{data:f,error:m}=await R.from("notifications").select("*, actor:actor_id(*), post:post_id(content, video_url)").eq("recipient_id",e.id).order("created_at",{ascending:!1});if(m)console.error("Error fetching notifications:",m.message),n([]);else{const v=f.filter(_=>_.actor);n(v);const w=v.some(_=>!_.is_read);i(w)}s(!1)})()},[e]),y.useEffect(()=>{if(!e)return;const d=setTimeout(()=>{a&&R.from("notifications").update({is_read:!0}).eq("recipient_id",e.id).eq("is_read",!1).then()},2500),f=R.channel(`public:notifications:user-${e.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`recipient_id=eq.${e.id}`},async m=>{const{data:v,error:w}=await R.from("notifications").select("*, actor:actor_id(*), post:post_id(content, video_url)").eq("id",m.new.id).single();!w&&v&&v.actor&&(n(_=>[v,..._]),i(!0))}).subscribe();return()=>{clearTimeout(d),R.removeChannel(f)}},[e,a]);const o=y.useCallback(async()=>{!e||!a||(n(d=>d.map(f=>({...f,is_read:!0}))),i(!1),await R.from("notifications").update({is_read:!0}).eq("recipient_id",e.id).eq("is_read",!1))},[e,a]),l=y.useCallback(async(d,f)=>{e&&(n(m=>m.filter(v=>v.id!==f)),await R.from("follows").update({status:"accepted"}).match({follower_id:d,following_id:e.id}),await R.from("notifications").delete().eq("id",f),await R.from("notifications").insert({recipient_id:d,actor_id:e.id,notification_type:"follow"}))},[e]),c=y.useCallback(async(d,f)=>{e&&(n(m=>m.filter(v=>v.id!==f)),await R.from("follows").delete().match({follower_id:d,following_id:e.id}),await R.from("notifications").delete().eq("id",f))},[e]);return u.createElement("div",{className:"h-full flex flex-col"},u.createElement("header",{className:"sticky top-0 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 border-b border-gray-200 dark:border-slate-700 flex justify-between items-center flex-shrink-0"},u.createElement("h1",{className:"text-xl font-bold"},"Notifikasi"),u.createElement("button",{onClick:o,disabled:!a||r,className:"text-sm text-blue-500 hover:underline disabled:text-gray-400 dark:disabled:text-slate-500 disabled:no-underline disabled:cursor-not-allowed interactive-btn"},a?"Tandai semua dibaca":"Semua sudah dibaca")),u.createElement("div",{className:"flex-grow overflow-y-auto dark-scrollbar-custom"},r?Array.from({length:5}).map((d,f)=>u.createElement(Zk,{key:f})):t.length>0?t.map(d=>u.createElement(e_,{key:d.id,notification:d,onAccept:l,onDecline:c})):u.createElement("p",{className:"p-4 text-center text-gray-500 dark:text-slate-400"},"Tidak ada notifikasi baru.")))},n_=({profile:e,onClose:t,onProfileUpdate:n,showToast:r})=>{const[s,a]=y.useState(e.full_name),[i,o]=y.useState(e.username),[l,c]=y.useState(e.bio||""),[d,f]=y.useState(e.is_private),[m,v]=y.useState(null),[w,_]=y.useState(null),[b,g]=y.useState(e.profile_avatar_url),[h,p]=y.useState(e.banner_url),[k,E]=y.useState(!1),[x,S]=y.useState(!1);y.useEffect(()=>{const A=s!==e.full_name||i!==e.username||l!==(e.bio||"")||d!==e.is_private||m!==null||w!==null;E(A)},[s,i,l,d,m,w,e]);const T=(A,U)=>{const q=A.target.files[0];if(!q)return;const Q=new FileReader;Q.onloadend=()=>{U==="avatar"?(v(q),g(Q.result)):U==="banner"&&(_(q),p(Q.result))},Q.readAsDataURL(q)},L=async A=>{A.preventDefault(),S(!0);try{let U=e.profile_avatar_url,q=e.banner_url;if(m){const he=`${e.id}/avatar-${Date.now()}`,{error:N}=await R.storage.from("media").upload(he,m,{upsert:!0});if(N)throw N;const{data:$}=R.storage.from("media").getPublicUrl(he);U=$.publicUrl}if(w){const he=`${e.id}/banner-${Date.now()}`,{error:N}=await R.storage.from("media").upload(he,w,{upsert:!0});if(N)throw N;const{data:$}=R.storage.from("media").getPublicUrl(he);q=$.publicUrl}const Q={full_name:s,username:i,bio:l,is_private:d,profile_avatar_url:U,banner_url:q},{data:Se,error:ye}=await R.from("profiles").update(Q).eq("id",e.id).select().single();if(ye)throw ye;n(Se)}catch(U){console.error("Error updating profile:",U),r("Gagal memperbarui profil.")}finally{S(!1)}},O=20-s.length;return u.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-30 dark:bg-black/70 flex items-center justify-center z-50",onClick:t},u.createElement("div",{className:"bg-white dark:bg-slate-800 rounded-2xl w-full max-w-lg mx-4 border border-black/20 dark:border-slate-700 overflow-hidden flex flex-col max-h-[90vh]",onClick:A=>A.stopPropagation()},u.createElement("form",{onSubmit:L},u.createElement("div",{className:"flex justify-between items-center p-4 border-b border-black/10 dark:border-slate-700"},u.createElement("h2",{className:"font-bold text-lg"},"Edit Profil"),u.createElement("button",{type:"button",onClick:t,className:"text-2xl hover:text-gray-500 transition-colors"},"")),u.createElement("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto"},u.createElement("div",{className:"relative h-36 rounded-lg bg-gray-200 dark:bg-slate-700"},h&&u.createElement("img",{src:h,className:"w-full h-full object-cover rounded-lg",alt:"Pratinjau Banner"}),u.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},u.createElement("label",{htmlFor:"banner-upload",className:"bg-black/50 text-white rounded-full w-12 h-12 flex items-center justify-center cursor-pointer hover:bg-black/70 transition-colors"},u.createElement("i",{className:"bi bi-camera-fill text-xl"})),u.createElement("input",{type:"file",id:"banner-upload",accept:"image/*",className:"hidden",onChange:A=>T(A,"banner")}))),u.createElement("div",{className:"relative w-28 h-28 rounded-3xl -mt-16 ml-4 border-4 border-white dark:border-slate-800 bg-gray-200 dark:bg-slate-700"},b&&u.createElement("img",{src:b,className:"w-full h-full object-cover rounded-full",alt:"Pratinjau Avatar"}),u.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},u.createElement("label",{htmlFor:"avatar-upload",className:"bg-black/50 text-white rounded-full w-10 h-10 flex items-center justify-center cursor-pointer hover:bg-black/70 transition-colors"},u.createElement("i",{className:"bi bi-camera-fill text-lg"})),u.createElement("input",{type:"file",id:"avatar-upload",accept:"image/*",className:"hidden",onChange:A=>T(A,"avatar")}))),u.createElement("div",{className:"pt-4 space-y-4"},u.createElement("div",null,u.createElement("div",{className:"flex justify-between items-center mb-1"},u.createElement("label",{htmlFor:"full-name-input",className:"block text-sm font-medium text-gray-700 dark:text-slate-300"},"Nama Lengkap"),u.createElement("span",{className:`text-sm ${O<0?"text-red-500":"text-gray-500 dark:text-slate-400"}`},O)),u.createElement("input",{type:"text",id:"full-name-input",required:!0,maxLength:"20",value:s,onChange:A=>a(A.target.value),className:"w-full bg-gray-100 dark:bg-slate-700 rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white"})),u.createElement("div",null,u.createElement("label",{htmlFor:"username-input",className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1"},"Username"),u.createElement("div",{className:"relative"},u.createElement("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-slate-500"},"@"),u.createElement("input",{type:"text",id:"username-input",required:!0,value:i,onChange:A=>o(A.target.value),className:"w-full bg-gray-100 dark:bg-slate-700 rounded-lg py-3 pl-8 pr-4 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white"}))),u.createElement("div",null,u.createElement("label",{htmlFor:"bio-input",className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-1"},"Bio"),u.createElement("textarea",{id:"bio-input",rows:"3",value:l,onChange:A=>c(A.target.value),className:"w-full bg-gray-100 dark:bg-slate-700 rounded-lg py-3 px-4 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white resize-none",placeholder:"Ceritakan tentang diri Anda..."})),u.createElement("div",{className:"flex items-center justify-between pt-2"},u.createElement("div",null,u.createElement("label",{htmlFor:"private-account-toggle",className:"block text-sm font-medium text-gray-700 dark:text-slate-300"},"Akun Privat"),u.createElement("p",{className:"text-xs text-gray-500 dark:text-slate-400"},"Jika aktif, pengguna lain harus meminta untuk mengikuti Anda.")),u.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},u.createElement("input",{type:"checkbox",checked:d,onChange:A=>f(A.target.checked),className:"sr-only peer"}),u.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"}))))),u.createElement("div",{className:"p-4 border-t border-black/10 dark:border-slate-700 flex justify-end"},u.createElement("button",{type:"submit",disabled:x||!k||O<0,className:"bg-black text-white dark:bg-white dark:text-black px-6 py-2 rounded-full font-semibold hover:bg-gray-800 dark:hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed"},x?"Menyimpan...":"Simpan Perubahan")))))},r_=()=>{const[e,t]=y.useState(()=>{const r=localStorage.getItem("theme");return r||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});y.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const n=r=>{r.stopPropagation(),t(s=>s==="dark"?"light":"dark")};return u.createElement("button",{onClick:n,className:"w-full text-left px-4 py-2 text-sm flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-slate-700"},e==="dark"?u.createElement("i",{className:"bi bi-sun-fill"}):u.createElement("i",{className:"bi bi-moon-fill"}),u.createElement("span",null,"Ganti Tema"))},s_=({profile:e})=>e?u.createElement("span",{className:"flex items-center ml-1.5 space-x-2"},e.is_verified&&u.createElement("i",{className:"bi bi-patch-check-fill text-blue-500"}),e.is_founder&&u.createElement("span",{className:"founder-label"},"Founder"),e.is_security&&u.createElement("span",{className:"security-label"},"Security"),e.is_one&&u.createElement("span",{className:"one-label"},"ONE")):null,a_=()=>{var ce,we,bt;const{username:e}=av(),t=Lr(),{currentUser:n,loading:r}=Ir(),[s,a]=y.useState(null),[i,o]=y.useState("loading"),[l,c]=y.useState(null),[d,f]=y.useState(0),[m,v]=y.useState(0),[w,_]=y.useState([]),[b,g]=y.useState({page:0,hasMore:!0}),[h,p]=y.useState(!1),[k,E]=y.useState(!1),[x,S]=y.useState(null),[T,L]=y.useState(null),[O,A]=y.useState({visible:!1,postId:null,position:{}}),[U,q]=y.useState({show:!1,message:""}),[Q,Se]=y.useState(!1),ye=y.useRef(),he=y.useRef(null),N=D=>{q({show:!0,message:D}),setTimeout(()=>q({show:!1,message:""}),3e3)},$=y.useCallback(async D=>{a(null),_([]),g({page:0,hasMore:!0}),o("loading");try{const{data:F,error:Y}=await R.from("profiles").select("*, posts(count)").eq("username",e).single();if(Y||!F){o("not_found");return}a(F);let me=F.id===D.id?"self":null;if(!me){const{data:st}=await R.from("follows").select("status").eq("follower_id",D.id).eq("following_id",F.id).single();me=(st==null?void 0:st.status)||null}c(me);const{count:ke}=await R.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",F.id).eq("status","accepted"),{count:Re}=await R.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",F.id).eq("status","accepted");f(ke||0),v(Re||0),o("success")}catch(F){console.error("Gagal memuat data profil:",F),o("error")}},[e]),M=y.useCallback(async(D=!1)=>{if(!s||D&&!b.hasMore||h)return;p(!0);const F=5,Y=D?b.page:0,me=Y*F,ke=me+F-1,{data:Re,error:st}=await R.from("posts").select("*, profiles(*), likes(user_id), reactions(*), comments(count)").eq("user_id",s.id).order("created_at",{ascending:!1}).range(me,ke);if(!st){const qn=D?[...w,...Re]:Re,qt=Array.from(new Map(qn.map($e=>[$e.id,$e])).values());_(qt),g({page:Y+1,hasMore:Re.length===F})}p(!1)},[s,b,h,w]);y.useEffect(()=>{if(!r){if(!n){t("/auth");return}$(n)}},[e,n,r,t,$]),y.useEffect(()=>{i==="success"&&s&&(!s.is_private||l==="accepted"||l==="self")&&w.length===0&&M()},[i,s,l,w.length,M]);const G=y.useCallback(D=>{h||(ye.current&&ye.current.disconnect(),ye.current=new IntersectionObserver(F=>{F[0].isIntersecting&&b.hasMore&&M(!0)}),D&&ye.current.observe(D))},[h,b,M]),P=async()=>{await R.auth.signOut(),t("/auth")},I=y.useCallback(D=>{_(F=>F.map(Y=>Y.id===D.id?D:Y))},[]),z=D=>{E(!1),a(F=>({...F,...D})),N("Profil berhasil diperbarui!"),D.username!==e&&t(`/user/${D.username}`)},B=async()=>{x&&(await R.from("posts").delete().eq("id",x),_(D=>D.filter(F=>F.id!==x)),N("Postingan berhasil dihapus."),S(null))},X=async D=>{if(!n)return;const F=[...w],Y=w.findIndex($e=>$e.id===D);if(Y===-1)return;const me={...w[Y]},ke=me.likes.some($e=>$e.user_id===n.id),Re=ke?me.likes.filter($e=>$e.user_id!==n.id):[...me.likes,{user_id:n.id}],st={...me,likes:Re},qn=[...w];qn[Y]=st,_(qn);let qt;if(ke?{error:qt}=await R.from("likes").delete().match({user_id:n.id,post_id:D}):{error:qt}=await R.from("likes").insert({post_id:D,user_id:n.id}),qt)N("Gagal memberi like."),_(F);else{const{data:$e}=await R.from("posts").select("*, profiles(*), likes(user_id), reactions(*), comments(count)").eq("id",D).single();$e&&_(He=>He.map(Fs=>Fs.id===D?$e:Fs))}},ue=async(D,F)=>{if(!n)return;A({visible:!1});const Y=[...w],me=w.findIndex(He=>He.id===D);if(me===-1)return;const ke={...w[me]},Re=ke.reactions.find(He=>He.user_id===n.id);let st;Re?Re.reaction_type===F?st=ke.reactions.filter(He=>He.user_id!==n.id):st=ke.reactions.map(He=>He.user_id===n.id?{...He,reaction_type:F}:He):st=[...ke.reactions,{user_id:n.id,post_id:D,reaction_type:F,id:`temp-${Date.now()}`}];const qn={...ke,reactions:st},qt=[...w];qt[me]=qn,_(qt);let $e;if(Re?Re.reaction_type===F?{error:$e}=await R.from("reactions").delete().eq("id",Re.id):{error:$e}=await R.from("reactions").update({reaction_type:F}).eq("id",Re.id):{error:$e}=await R.from("reactions").insert({post_id:D,user_id:n.id,reaction_type:F}),$e)N("Gagal memberi reaksi."),_(Y);else{const{data:He}=await R.from("posts").select("*, profiles(*), likes(user_id), reactions(*), comments(count)").eq("id",D).single();He&&_(Fs=>Fs.map(cu=>cu.id===D?He:cu))}},jt=(D,F)=>{if(O.visible&&O.postId===D){A({visible:!1,postId:null,position:{}});return}const Y=F.getBoundingClientRect(),me=240;let ke=Y.left+window.scrollX+Y.width/2-me/2;ke=Math.max(8,Math.min(ke,window.innerWidth-me-8)),A({visible:!0,postId:D,position:{top:Y.top+window.scrollY-50,left:ke}})},We=async()=>{if(!s||!n)return;if(l==="accepted"||l==="pending")await R.from("follows").delete().match({follower_id:n.id,following_id:s.id}),c(null),l==="accepted"&&f(F=>F-1);else{const F=s.is_private?"pending":"accepted";await R.from("follows").insert({follower_id:n.id,following_id:s.id,status:F}),c(F),F==="accepted"?(f(Y=>Y+1),await R.from("notifications").insert({recipient_id:s.id,actor_id:n.id,notification_type:"follow"})):await R.from("notifications").insert({recipient_id:s.id,actor_id:n.id,notification_type:"follow_request"})}};if(i==="loading"||!s)return u.createElement("div",{className:"text-center p-8"},"Memuat profil...");if(i==="not_found")return u.createElement("div",{className:"text-center p-8"},"Profil tidak ditemukan.");if(i==="error")return u.createElement("div",{className:"text-center p-8"},"Terjadi kesalahan.");const je=()=>{if(l==="self")return u.createElement("button",{onClick:()=>E(!0),className:"border border-gray-300 dark:border-slate-600 px-4 py-2 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-slate-800"},"Edit Profil");const D={accepted:{text:"Mengikuti",class:"bg-white text-black border border-gray-300 dark:bg-slate-800 dark:text-white dark:border-slate-600 hover:bg-gray-100 dark:hover:bg-slate-700"},pending:{text:"Batalkan Permintaan",class:"bg-gray-200 text-gray-800 border border-gray-300 dark:bg-slate-700 dark:text-slate-200 dark:border-slate-600 hover:bg-gray-300 dark:hover:bg-slate-600"},default:{text:"Ikuti",class:"bg-black text-white dark:bg-white dark:text-black hover:bg-gray-800 dark:hover:bg-gray-200"}},{text:F,class:Y}=D[l]||D.default;return u.createElement("button",{onClick:We,className:`px-4 py-2 rounded-full font-semibold ${Y}`},F)},Hn=s.banner_url||"",H=s.profile_avatar_url||`https://placehold.co/128x128/1A1A1A/FFFFFF?text=${(ce=s.full_name)==null?void 0:ce.charAt(0)}&font=inter`,ge=!s.is_private||l==="accepted"||l==="self";return u.createElement("div",{className:"flex flex-col h-full"},u.createElement("header",{className:"sticky top-0 z-20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm p-4 border-b border-gray-200 dark:border-slate-700"},u.createElement("div",{className:"flex items-center justify-between"},u.createElement("div",{className:"flex items-center space-x-4"},u.createElement("button",{onClick:()=>t(-1),className:"text-xl"},u.createElement("i",{className:"bi bi-arrow-left"})),u.createElement("div",null,u.createElement("h1",{className:"text-xl font-bold"},s.full_name),u.createElement("p",{className:"text-sm text-gray-500 dark:text-slate-400"},ge?`${((bt=(we=s.posts)==null?void 0:we[0])==null?void 0:bt.count)??0} Postingan`:"Postingan disembunyikan"))),u.createElement("div",{className:"relative"},u.createElement("button",{onClick:()=>Se(!Q),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-slate-700"},u.createElement("i",{className:"bi bi-three-dots-vertical"})),Q&&u.createElement("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-slate-800 rounded-md shadow-lg py-1 z-10 border dark:border-slate-700",onClick:()=>Se(!1)},u.createElement(r_,null),u.createElement("button",{onClick:P,className:"w-full text-left px-4 py-2 text-sm flex items-center gap-3 text-red-500 hover:bg-gray-100 dark:hover:bg-slate-700"},u.createElement("i",{className:"bi bi-box-arrow-right"}),u.createElement("span",null,"Keluar")))))),u.createElement("div",{ref:he,className:"flex-1 overflow-y-auto"},u.createElement("div",null,u.createElement("div",{className:"h-48 bg-gray-300 dark:bg-slate-700 bg-cover bg-center",style:{backgroundImage:`url(${Hn})`}}),u.createElement("div",{className:"p-4"},u.createElement("div",{className:"flex justify-between items-start"},u.createElement("img",{src:H,alt:"Avatar",className:"w-32 h-32 rounded-full -mt-20 border-4 border-white dark:border-slate-900 bg-gray-300 dark:bg-slate-700 object-cover"}),je()),u.createElement("div",{className:"mt-2"},u.createElement("h2",{className:"text-2xl font-bold flex items-center"},s.full_name,u.createElement(s_,{profile:s})),u.createElement("p",{className:"text-gray-500 dark:text-slate-400"},"@",s.username),u.createElement("p",{className:"mt-2 text-gray-800 dark:text-slate-300 whitespace-pre-wrap"},s.bio)),u.createElement("div",{className:"mt-4 flex space-x-4 text-sm"},u.createElement("p",null,u.createElement("strong",null,m)," Mengikuti"),u.createElement("p",null,u.createElement("strong",null,d)," Pengikut")))),u.createElement("div",{className:"border-t border-b border-gray-200 dark:border-slate-700 flex"},u.createElement("div",{className:"flex-1 text-center py-3 font-semibold"},"Postingan")),u.createElement("div",null,ge?w.length>0?w.map((D,F)=>u.createElement("div",{key:`post-${D.id}`,ref:w.length===F+1?G:null},u.createElement(em,{post:D,currentUser:n,onDelete:()=>S(D.id),onLike:X,onReactionClick:jt,openCommentModal:()=>L(D),showToast:N}))):u.createElement("p",{className:"p-4 text-center text-gray-500"},h?"Memuat...":"Belum ada postingan."):u.createElement("div",{className:"text-center p-8"},u.createElement("i",{className:"bi bi-lock-fill text-4xl text-gray-400"}),u.createElement("h3",{className:"font-bold mt-4"},"Akun Ini Privat"),u.createElement("p",{className:"text-gray-500"},"Ikuti untuk melihat postingan mereka.")))),T&&u.createElement(rm,{postInit:T,currentUser:n,onClose:()=>L(null),onPostUpdate:I,showToast:N}),k&&u.createElement(n_,{profile:s,onClose:()=>E(!1),onProfileUpdate:z,showToast:N}),x&&u.createElement(uu,{title:"Hapus Postingan",message:"Postingan ini akan dihapus permanen.",onConfirm:B,onCancel:()=>S(null)}),u.createElement(sm,{message:U.message,show:U.show}),u.createElement(am,{isVisible:O.visible,position:O.position,onSelectReaction:D=>ue(O.postId,D)}))},i_=({profile:e})=>{const t=e.full_name?e.full_name.charAt(0).toUpperCase():"?",n=e.profile_avatar_url||`https://placehold.co/48x48/1A1A1A/FFFFFF?text=${t}&font=inter`;return u.createElement(Je,{to:`/user/${e.username}`,className:"flex items-center p-4 border-b border-gray-200 dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-800 transition-colors"},u.createElement("img",{src:n,alt:"Profile Picture",className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-slate-700 mr-4 object-cover"}),u.createElement("div",{className:"flex-1"},u.createElement("p",{className:"font-bold flex items-center"},e.full_name,e.is_verified&&u.createElement("i",{className:"bi bi-patch-check-fill text-blue-500 ml-1.5"})),u.createElement("p",{className:"text-sm text-gray-500 dark:text-slate-400"},"@",e.username)))},o_=()=>u.createElement("div",{className:"flex items-center p-4 border-b border-gray-200 dark:border-slate-700 animate-pulse"},u.createElement("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-slate-700 mr-4"}),u.createElement("div",{className:"flex-1 space-y-2"},u.createElement("div",{className:"w-1/3 h-5 bg-gray-200 dark:bg-slate-700 rounded"}),u.createElement("div",{className:"w-1/4 h-4 bg-gray-200 dark:bg-slate-700 rounded"}))),l_=()=>{const[e,t]=Sh(),[n,r]=y.useState(e.get("q")||""),[s,a]=y.useState([]),[i,o]=y.useState(!1),{currentUser:l}=Ir(),c=y.useCallback(async d=>{if(!d||!l){a([]);return}o(!0);const{data:f,error:m}=await R.from("profiles").select("*").or(`full_name.ilike.%${d}%,username.ilike.%${d}%`).neq("id",l.id).limit(20);m?(console.error("Gagal mencari pengguna:",m),a([])):a(f),o(!1)},[l]);return y.useEffect(()=>{const d=setTimeout(()=>{n?(t({q:n},{replace:!0}),c(n)):(t({},{replace:!0}),a([]))},300);return()=>clearTimeout(d)},[n,c,t]),u.createElement(u.Fragment,null,u.createElement("header",{className:"sticky top-0 z-10 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm flex-shrink-0"},u.createElement("div",{className:"p-4 pt-2 md:pt-4 border-b border-gray-200 dark:border-slate-700"},u.createElement("div",{className:"relative"},u.createElement("i",{className:"bi bi-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),u.createElement("input",{type:"text",value:n,onChange:d=>r(d.target.value),placeholder:"Cari pengguna...",className:"w-full bg-gray-100 dark:bg-slate-800 dark:text-slate-100 rounded-full py-3 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white"}))),u.createElement("div",{className:"border-b border-gray-200 dark:border-slate-700"},u.createElement("div",{className:"flex relative"},u.createElement("button",{className:"flex-1 text-center py-3 font-semibold text-black dark:text-white transition-colors"},"Pengguna"),u.createElement("div",{className:"absolute bottom-0 h-0.5 bg-black dark:bg-white transition-all duration-300",style:{left:"0%",width:"100%"}})))),u.createElement("div",{className:"flex-grow overflow-y-auto"},i&&u.createElement("div",null,Array.from({length:5}).map((d,f)=>u.createElement(o_,{key:f}))),!i&&n&&s.length===0&&u.createElement("p",{className:"p-4 text-center text-gray-500 dark:text-slate-400"},"Tidak ada pengguna yang cocok."),!i&&!n&&u.createElement("p",{className:"p-4 text-center text-gray-500 dark:text-slate-400"},"Cari pengguna di Marhayu."),!i&&s.length>0&&u.createElement("div",null,s.map(d=>u.createElement(i_,{key:d.id,profile:d})))))};function u_(){return u.createElement(bv,null,u.createElement(Cn,{path:"/auth",element:u.createElement(Xk,null)}),u.createElement(Cn,{element:u.createElement(sw,null)},u.createElement(Cn,{path:"/",element:u.createElement(Yk,null)}),u.createElement(Cn,{path:"/notifications",element:u.createElement(t_,null)}),u.createElement(Cn,{path:"/search",element:u.createElement(l_,null)}),u.createElement(Cn,{path:"/user/:username",element:u.createElement(a_,null)})))}eo.createRoot(document.getElementById("root")).render(u.createElement(u.StrictMode,null,u.createElement(jv,null,u.createElement(u_,null))));
